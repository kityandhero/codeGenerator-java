(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{dvFV:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("mK77"));a("oV3r");var r=l(a("DJcp"));a("xAPl");var d=l(a("u+z+"));a("TQIi");var o=l(a("l69Q"));a("nSfo");var u=l(a("wVgd"));a("yKvZ");var c=l(a("oSHl"));a("15e7");var i=l(a("D46T"));a("fZNK");var m=l(a("nMMr"));a("X1LF");var f=l(a("QfOC"));a("gPMW");var s,p,g,F=l(a("GymB")),E=l(a("43Yg")),b=l(a("scpF")),h=l(a("O/V9")),H=l(a("8aBX")),D=l(a("2w0b")),I=a("LneV"),C=a("DWJA"),v=a("vGWC"),y=a("uJMD"),P=l(a("7pZ8")),T=l(a("soTq")),S=a("/lRM"),w=a("ShOv"),N=l(a("tUt5")),x=(s=(0,I.connect)(function(e){var t=e.connectionConfig,a=e.global,l=e.loading;return{connectionConfig:t,global:a,loading:l.models.connectionConfig}}),s((g=function(e){function t(e){var a;return(0,E.default)(this,t),a=(0,b.default)(this,(0,h.default)(t).call(this,e)),a.componentAuthority=P.default.connectionConfig.add,a.formRef=D.default.createRef(),a.getApiData=function(e){var t=e.connectionConfig.data;return t},a.supplementSubmitRequestParams=function(e){var t=e,l=a.state.selectConnectionType;return t.connectionType=l,t},a.afterSubmitSuccess=function(e,t,l,n,r){var d=a.props.dispatch;requestAnimationFrame(function(){F.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002"})});var o=e.connectionId,u={pathname:"/connectionConfig/edit/load/".concat(o,"/1/basicInfo")};d(C.routerRedux.replace(u))},a.onConnectionTypeChange=function(e){a.setState({selectConnectionType:e?w.connectionType.SSH:w.connectionType.TCP_IP})},a.getTargetForm=function(){return a.formRef.current},a.formContent=function(){var e=a.state,t=e.processing,l=e.selectConnectionType,n={};return n["".concat(S.customFieldCollection.databaseType)]=null,n["".concat(S.customFieldCollection.databaseEncoding)]=null,D.default.createElement("div",{className:N.default.containorBox},D.default.createElement(r.default,{ref:a.formRef,initialValues:n,layout:"vertical"},D.default.createElement(o.default,{title:"\u57fa\u672c\u4fe1\u606f",className:N.default.card,bordered:!1,extra:D.default.createElement(m.default,{offsetTop:20},D.default.createElement(D.default.Fragment,null,D.default.createElement(f.default,{type:"primary",icon:D.default.createElement(v.SaveOutlined,null),disabled:t,onClick:function(e){a.validate(e)},loading:t},"\u4fdd\u5b58")))},D.default.createElement(u.default,{spinning:t},D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:18,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.name,"name",!0,(0,y.buildFieldHelper)(w.fieldData.nameHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormDatabaseTypeSelectFormItem())),D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:18,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.host,"host",!0,(0,y.buildFieldHelper)(w.fieldData.hostHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputNumberFormItem(w.fieldData.port,"port",!0,(0,y.buildFieldHelper)(w.fieldData.portHelper)))),D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.userName,"userName",!0,(0,y.buildFieldHelper)(w.fieldData.userNameHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormPasswordFormItem(w.fieldData.password,"password",!0,(0,y.buildFieldHelper)(w.fieldData.passwordHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.schema,"schema",!0,(0,y.buildFieldHelper)(w.fieldData.schemaHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormDatabaseEncodingSelectFormItem())))),D.default.createElement(o.default,{title:"SSH\u4fe1\u606f",className:N.default.card,bodyStyle:l!==w.connectionType.SSH?{padding:0}:{},bordered:!1,extra:D.default.createElement(D.default.Fragment,null,D.default.createElement(d.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:l===w.connectionType.SSH,onChange:function(e){a.onConnectionTypeChange(e)}}))},D.default.createElement(u.default,{spinning:t},l===w.connectionType.SSH?D.default.createElement(D.default.Fragment,null,D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.sshHost,"sshHost",!0,(0,y.buildFieldHelper)(w.fieldData.sshHostHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputNumberFormItem(w.fieldData.sshPort,"sshPort",!0,(0,y.buildFieldHelper)(w.fieldData.sshPortHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputNumberFormItem(w.fieldData.localPort,"localPort",!0,(0,y.buildFieldHelper)(w.fieldData.localPortHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputNumberFormItem(w.fieldData.remotePort,"remotePort",!0,(0,y.buildFieldHelper)(w.fieldData.remotePortHelper)))),D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormInputFormItem(w.fieldData.sshUser,"sshUser",!0,(0,y.buildFieldHelper)(w.fieldData.sshUserHelper))),D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFormPasswordFormItem(w.fieldData.sshPassword,"sshPassword",!0,(0,y.buildFieldHelper)(w.fieldData.sshPasswordHelper))))):null)),D.default.createElement(o.default,{title:"\u5176\u4ed6\u4fe1\u606f",className:N.default.card,bordered:!1},D.default.createElement(u.default,{spinning:t},D.default.createElement(c.default,{gutter:24},D.default.createElement(i.default,{lg:6,md:12,sm:24},a.renderFromCreateTimeField()))))))},a.state=(0,n.default)({},a.state,{pageName:"\u589e\u52a0\u6570\u636e\u8fde\u63a5",submitApiPath:"connectionConfig/addBasicInfo",selectConnectionType:w.connectionType.TCP_IP}),a}return(0,H.default)(t,e),t}(T.default),p=g))||p),R=x;t.default=R},tUt5:function(e,t,a){e.exports={containorBox:"antd-pro-pages-connection-config-add-index-containorBox",card:"antd-pro-pages-connection-config-add-index-card"}}}]);