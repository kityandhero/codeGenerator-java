(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"/kN6":function(e,t,a){e.exports={main:"antd-pro-pages-custom-config-index-main",leftMenu:"antd-pro-pages-custom-config-index-leftMenu",right:"antd-pro-pages-custom-config-index-right",title:"antd-pro-pages-custom-config-index-title"}},"7uB1":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrlParamsForSetState=u,t.checkNeedUpdateAssist=i,t.empty=l;var r=n(a("d6i3")),o=n(a("1l/V"));function u(e){var t=e.urlParams,a=t.category;return{category:a}}function i(e,t,a,n){var r=e.category,o=a.category;return o!==r}function l(){return c.apply(this,arguments)}function c(){return c=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},EQ9A:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4eJr");var r=n(a("3LgI")),o=n(a("p0pE"));a("Mwp2");var u=n(a("VXEj"));a("BoS7");var i=n(a("Sdc0"));a("/xke");var l,c,s,d=n(a("TeRw")),f=n(a("2Taf")),g=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),h=n(a("MhPg")),v=n(a("q1tI")),y=a("MuoO"),C=n(a("3a4m")),b=a("uJMD"),M=n(a("t6Xd")),S=a("7uB1"),E="./index.less",k=(l=(0,y.connect)(function(e){var t=e.customConfig,a=e.global,n=e.loading;return{customConfig:t,global:a,loading:n.models.customConfig}}),l((s=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.doWorkWhenDidUpdate=function(e,t,n){var r=a.state.category,o=t.category;if(null!=(r||null)&&null!=(o||null)){var u=a.state,i=u.loadSuccess,l=u.dataLoading;r!==o&&(l||a.reloadData()),i||l||a.reloadData()}},a.doDidMountTask=function(){var e=a.state,t=e.category,n=e.categoryName,r=a.getCustomConfigCategoryList(),o=t,u=n;((0,b.stringIsNullOrWhiteSpace)(t)||"no"===t)&&(0,b.isArray)(r)&&(r||[]).forEach(function(e,t){0===t&&(o=e.flag)}),(0,b.isArray)(r)&&(r||[]).forEach(function(e){e.flag===o&&(u=e.name)}),(0,b.stringIsNullOrWhiteSpace)(o)||"no"===o?C.default.replace("/"):a.setState({category:o,categoryName:u})},a.getApiData=function(e){var t=e.customConfig.data;return t},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.category;return t.category=n,t},a.afterLoadSuccess=function(e,t,n,r){a.setState({total:(t||[]).length})},a.onSwitchChange=function(e,t){var n=e.uuid;a.setBooleanValue(n,t?"1":"0")},a.setBooleanValue=function(e,t){var n=a.props.dispatch;a.setState({processing:!0}),n({type:"customConfig/set",payload:{uuid:e,value:t}}).then(function(){var e=a.getApiData(a.props),t=e.dataSuccess;t&&(requestAnimationFrame(function(){d.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8bbe\u7f6e\u662f\u5426\u6210\u529f\u3002"})}),a.setState({processing:!1}),a.reloadData())})},a.renderTable=function(){var e=a.state,t=e.metaListData,n=e.dataLoading;return v.default.createElement(u.default,{size:"large",className:E.articleList,rowKey:"uuid",dataSource:t,loading:n,pagination:!1,renderItem:function(e){return v.default.createElement(u.default.Item,{key:e.uuid,actions:[v.default.createElement(i.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:"1"===e.value,onChange:function(t){a.onSwitchChange(e,t)}})]},v.default.createElement(u.default.Item.Meta,{title:e.name,description:e.description}))}})},a.state=(0,o.default)({},a.state,{category:"",categoryName:"",pageName:"\u8bbe\u7f6e\u9879\uff1a",paramsKey:"446d0048-94e9-40ee-9b8b-7f394bc94b09",loadApiPath:"customConfig/list",loadDataAfterMount:!1,dataLoading:!1,total:0}),a}return(0,h.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:E.containorBox},this.renderTable(),v.default.createElement(r.default,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return(0,b.getDerivedStateFromPropsForUrlParams)(e,t,{category:""},S.parseUrlParamsForSetState)}}]),t}(M.default),c=s))||c),w=k;t.default=w},LJ4X:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE")),o=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),l=n(a("ujKo")),c=n(a("MhPg"));a("lUTK");var s,d,f,g=n(a("BvKs")),m=n(a("q1tI")),p=a("MuoO"),h=n(a("3a4m")),v=a("Hx5s"),y=a("uJMD"),C=n(a("t6Xd")),b=n(a("/kN6")),M=g.default.Item,S=(s=(0,p.connect)(function(e){var t=e.customConfig,a=e.global,n=e.loading;return{customConfig:t,global:a,loading:n.models.customConfig}}),s((f=function(e){function t(e){var a;(0,o.default)(this,t),a=(0,i.default)(this,(0,l.default)(t).call(this,e)),a.doDidMountTask=function(){window.addEventListener("resize",a.resize),a.resize()},a.beforeUnmount=function(){window.removeEventListener("resize",a.resize)},a.getMenu=function(){var e=a.state.menuMap;return Object.keys(e).map(function(t){return m.default.createElement(M,{key:t},e[t])})},a.getRightTitle=function(){var e=a.state,t=e.selectKey,n=e.menuMap;return n[t]},a.selectKey=function(e){var t=e.key,n=a.state.menuCategory;h.default.push("/customConfig/category/".concat(n[t])),a.setState({selectKey:t})},a.resize=function(){a.main&&requestAnimationFrame(function(){var e="inline";if(null!=a.main){var t=a.main.offsetWidth;null!=t&&(a.main.offsetWidth<641&&t>400&&(e="horizontal"),window.innerWidth<768&&t>400&&(e="horizontal"),a.setState({mode:e}))}})};var n=e.match,u=e.location,c=e.global.customConfigCategoryList,s=n.params.category,d={},f={},g=null,p=null;(0,y.isArray)(c)&&(c||[]).forEach(function(e,t){var a="c".concat(e.flag);d[a]=e.name,f[a]=e.flag,0===t&&(g=a,p=e.flag)});var v=u.pathname.replace("".concat(n.path,"/"),""),C=(0,y.stringIsNullOrWhiteSpace)(s)?p:"no"===s?p:s;return a.state=(0,r.default)({},a.state,{loadDataAfterMount:!1,mode:"inline",menuMap:d,menuCategory:f,firstKey:g,firstCategory:p,currentCategory:C,selectKey:d[v]?v:g}),a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state,n=a.mode,r=a.selectKey;return m.default.createElement(v.GridContent,null,m.default.createElement("div",{className:b.default.main,ref:function(t){e.main=t}},m.default.createElement("div",{className:b.default.leftMenu},m.default.createElement(g.default,{mode:n,selectedKeys:[r],onClick:this.selectKey},this.getMenu())),m.default.createElement("div",{className:b.default.right},m.default.createElement("div",{className:b.default.title},this.getRightTitle()),t)))}}]),t}(C.default),d=f))||d),E=S;t.default=E}}]);