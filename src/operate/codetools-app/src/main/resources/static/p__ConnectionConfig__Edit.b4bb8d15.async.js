(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"/JhO":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrlParamsForSetState=r,t.checkNeedUpdateAssist=d,t.empty=i;var l=n(a("Ico4")),o=n(a("UWy3"));function r(e){var t=e.urlParams,a=t.id;return{connectionConfigId:a}}function d(e,t,a,n){var l=e.connectionConfigId,o=a.connectionConfigId;return o!==l}function i(){return c.apply(this,arguments)}function c(){return c=(0,o.default)(l.default.mark(function e(){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},"9HkY":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("LT06");var l=n(a("6w8L")),o=n(a("43Yg")),r=n(a("/tCh")),d=n(a("scpF")),i=n(a("O/V9")),c=n(a("8aBX")),u=a("uJMD"),s=n(a("U1dv")),f=a("/JhO"),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=(0,d.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(r))),a.goToUpdateWhenProcessed=!0,a.getApiData=function(e){var t=e.connectionConfig.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,f.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterSubmitSuccess=function(e,t,a,n,o){requestAnimationFrame(function(){l.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a}return(0,c.default)(t,e),(0,r.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,u.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},f.parseUrlParamsForSetState)}}]),t}(s.default),p=m;t.default=p},UkeZ:function(e,t,a){e.exports={hidden:"antd-pro-pages-connection-config-edit-basic-info-index-hidden",help:"antd-pro-pages-connection-config-edit-basic-info-index-help",containorBox:"antd-pro-pages-connection-config-edit-basic-info-index-containorBox",card:"antd-pro-pages-connection-config-edit-basic-info-index-card","ant-upload-select-picture-card":"antd-pro-pages-connection-config-edit-basic-info-index-ant-upload-select-picture-card","ant-upload-text":"antd-pro-pages-connection-config-edit-basic-info-index-ant-upload-text",mainImageBox:"antd-pro-pages-connection-config-edit-basic-info-index-mainImageBox",mainImage:"antd-pro-pages-connection-config-edit-basic-info-index-mainImage",mainImageAction:"antd-pro-pages-connection-config-edit-basic-info-index-mainImageAction"}},mLvl:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("Jsr4");var o,r,d,i=n(a("HAGr")),c=n(a("43Yg")),u=n(a("/tCh")),s=n(a("scpF")),f=n(a("O/V9")),m=n(a("8aBX")),p=n(a("+ufk")),g=a("LneV"),h=a("uJMD"),b=n(a("7pZ8")),D=a("i0ey"),F=n(a("KNI+")),v=a("/JhO"),C=a("ShOv"),P=(o=(0,g.connect)(function(e){var t=e.connectionConfig,a=e.global,n=e.loading;return{connectionConfig:t,global:a,loading:n.models.connectionConfig}}),o((d=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,s.default)(this,(0,f.default)(t).call(this,e)),a.componentAuthority=b.default.connectionConfig.get,a.tabList=[{key:"basicInfo",show:a.checkAuthority(b.default.connectionConfig.get),tab:"\u57fa\u672c\u4fe1\u606f"}],a.getApiData=function(e){var t=e.connectionConfig.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,v.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterLoadSuccess=function(e,t,n,l){a.setState({pageName:"".concat(C.fieldData.name.label,"\uff1a").concat(null===e?"":e.name||"")})},a.pageHeaderLogo=function(){var e=a.state.metaData;return p.default.createElement(i.default,{size:"large",src:null===e?"":e.imageUrl||"/noImageSmall.png"})},a.pageHeaderExtraContentData=function(){var e=a.state.metaData;return{textLabel:D.constants.statusNote.label,text:null===e?"":e.statusNote,timeLabel:D.constants.createTime.label,time:null===e?null:(0,h.toDatetime)(e.createTime)}},a.pageHeaderContentData=function(){var e=a.state.metaData,t=[];return t.push({label:C.fieldData.connectionConfigId.label,value:null===e?"":e.connectionConfigId,canCopy:!0}),t.push({label:C.fieldData.schema.label,value:null===e?"":e.schema,canCopy:!1}),t.push({label:C.fieldData.connectionType.label,value:a.getDatabaseConnectionTypeName(null===e?"":"".concat(e.connectionType||"")),canCopy:!1}),t.push({label:C.fieldData.databaseType.label,value:a.getDatabaseDatabaseTypeName(null===e?"":"".concat(e.databaseType||""))}),t.push({label:C.fieldData.encoding.label,value:a.getDatabaseEncodingName(null===e?"":"".concat(e.encoding||""))}),t},a.state=(0,l.default)({},a.state,{pageName:"".concat(C.fieldData.name.label,"\uff1a"),loadApiPath:"connectionConfig/get",backPath:"/connectionConfig/pageList/key",connectionConfigId:null}),a}return(0,m.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,h.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},v.parseUrlParamsForSetState)}}]),t}(F.default),r=d))||r),y=P;t.default=y},wbfs:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("m/Y8");var o=n(a("pYT0"));a("FaMl");var r=n(a("wXOY"));a("wbnu");var d=n(a("6Q+d"));a("hxFu");var i=n(a("VWFG"));a("t+d5");var c=n(a("a1EG"));a("Yg2Q");var u=n(a("PO0K"));a("0pur");var s=n(a("SP3O"));a("nWo+");var f=n(a("CVDR"));a("5mFY");var m=n(a("K8BH"));a("HY3Y");var p=n(a("i8fi"));a("LT06");var g,h,b,D=n(a("6w8L")),F=n(a("43Yg")),v=n(a("/tCh")),C=n(a("scpF")),P=n(a("O/V9")),y=n(a("8aBX")),I=n(a("+ufk")),E=a("LneV"),T=a("z6Ls"),S=a("uJMD"),x=n(a("7pZ8")),H=a("i0ey"),w=n(a("9HkY")),U=a("/JhO"),N=a("ShOv"),k=n(a("UkeZ")),Y=(g=(0,E.connect)(function(e){var t=e.connectionConfig,a=e.global,n=e.loading;return{connectionConfig:t,global:a,loading:n.models.connectionConfig}}),g((b=function(e){function t(e){var a;return(0,F.default)(this,t),a=(0,C.default)(this,(0,P.default)(t).call(this,e)),a.componentAuthority=x.default.connectionConfig.get,a.formRef=I.default.createRef(),a.onConnectionTypeChange=function(e){a.setState({selectConnectionType:e?N.connectionType.SSH:N.connectionType.TCP_IP})},a.getTargetForm=function(){return a.formRef.current},a.afterLoadSuccess=function(e,t,n,l){var o={};o[N.fieldData.connectionConfigId.name]=null===e?"":e.connectionConfigId||"",o[N.fieldData.name.name]=null===e?"":e.name||"",o[N.fieldData.connectionType.name]=null===e?"":e.connectionType||"",o[N.fieldData.databaseType.name]=null===e?"":e.databaseType||"",o[N.fieldData.host.name]=null===e?"":e.host||"",o[N.fieldData.port.name]=null===e?"":e.port||"",o[N.fieldData.userName.name]=null===e?"":e.userName||"",o[N.fieldData.password.name]=null===e?"":e.password||"",o[N.fieldData.schema.name]=null===e?"":e.schema||"",o[N.fieldData.encoding.name]=null===e?"":e.encoding||"",o[N.fieldData.sshHost.name]=null===e?"":e.sshHost||"",o[N.fieldData.sshPort.name]=null===e?"":e.sshPort||"",o[N.fieldData.localPort.name]=null===e?"":e.localPort||"",o[N.fieldData.remotePort.name]=null===e?"":e.remotePort||"",o[N.fieldData.sshUser.name]=null===e?"":e.sshUser||"",o[N.fieldData.sshPassword.name]=null===e?"":e.sshPassword||"",o[N.fieldData.description.name]=null===e?"":e.description||"",o[H.constants.createTime.name]=null===e?"":(0,S.formatDatetime)(e.createTime,"YYYY-MM-DD HH:mm")||"",o[H.constants.updateTime.name]=null===e?"":(0,S.formatDatetime)(e.updateTime,"YYYY-MM-DD HH:mm")||"";var r=a.getTargetForm();r.setFieldsValue(o),a.setState({selectConnectionType:null===e?N.connectionType.TCP_IP:e.connectionType||N.connectionType.TCP_IP})},a.supplementSubmitRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterSubmitSuccess=function(e,t,a,n,l){requestAnimationFrame(function(){D.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a.formContent=function(){var e=a.state,t=e.loadSuccess,n=e.dataLoading,l=e.processing,g=e.selectConnectionType;return I.default.createElement(I.default.Fragment,null,I.default.createElement("div",{className:k.default.containorBox},I.default.createElement(r.default,{ref:a.formRef,layout:"vertical"},I.default.createElement(i.default,{title:"\u57fa\u672c\u4fe1\u606f",className:k.default.card,bordered:!1,extra:I.default.createElement(f.default,{offsetTop:20},I.default.createElement(I.default.Fragment,null,I.default.createElement(p.default,{icon:I.default.createElement(T.ReloadOutlined,null),disabled:n||l||!t,onClick:a.reloadData,loading:l},"\u5237\u65b0"),I.default.createElement(m.default,{type:"vertical"}),I.default.createElement(p.default,{type:"primary",icon:I.default.createElement(T.SaveOutlined,null),disabled:n||l,onClick:a.validate,loading:l},"\u4fdd\u5b58")))},I.default.createElement(c.default,{spinning:n||l},I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:18,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.name.label,N.fieldData.name.name,!0,(0,S.buildFieldHelper)(N.fieldData.name.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormDatabaseDatabaseTypeSelectFormItem())),I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:18,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.host.label,N.fieldData.host.name,!0,(0,S.buildFieldHelper)(N.fieldData.host.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(N.fieldData.port.label,N.fieldData.port.name,!0,(0,S.buildFieldHelper)(N.fieldData.port.helper)))),I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.userName.label,N.fieldData.userName.name,!0,(0,S.buildFieldHelper)(N.fieldData.userName.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(N.fieldData.password.label,N.fieldData.password.name,!0,(0,S.buildFieldHelper)(N.fieldData.password.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.schema.label,N.fieldData.schema.name,!0,(0,S.buildFieldHelper)(N.fieldData.schema.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormDatabaseEncodingSelectFormItem())))),I.default.createElement(i.default,{title:"SSH\u4fe1\u606f",className:k.default.card,bodyStyle:g!==N.connectionType.SSH?{padding:0}:{},bordered:!1,extra:I.default.createElement(I.default.Fragment,null,I.default.createElement(d.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:g===N.connectionType.SSH,onChange:function(e){a.onConnectionTypeChange(e)}}))},I.default.createElement(c.default,{spinning:n||l},g===N.connectionType.SSH?I.default.createElement(I.default.Fragment,null,I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.sshHost.label,N.fieldData.sshHost.name,!0,(0,S.buildFieldHelper)(N.fieldData.sshHost.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(N.fieldData.sshPort.label,N.fieldData.sshPort.name,!0,(0,S.buildFieldHelper)(N.fieldData.sshPort.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(N.fieldData.localPort.label,N.fieldData.localPort.name,!0,(0,S.buildFieldHelper)(N.fieldData.localPort.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(N.fieldData.remotePort.label,N.fieldData.remotePort.name,!0,(0,S.buildFieldHelper)(N.fieldData.remotePort.helper)))),I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(N.fieldData.sshUser.label,N.fieldData.sshUser.name,!0,(0,S.buildFieldHelper)(N.fieldData.sshUser.helper))),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(N.fieldData.sshPassword.label,N.fieldData.sshPassword.name,!0,(0,S.buildFieldHelper)(N.fieldData.sshPassword.helper))))):null)),I.default.createElement(i.default,{title:"\u63cf\u8ff0\u4fe1\u606f",className:k.default.card,bordered:!1},I.default.createElement(c.default,{spinning:n||l},I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:24,md:24,sm:24,xs:24},a.renderFormTextAreaFormItem(N.fieldData.description.label,N.fieldData.description.name,!1,(0,S.buildFieldHelper)(N.fieldData.description.helper)))))),I.default.createElement(i.default,{title:"\u5176\u4ed6\u4fe1\u606f",className:k.default.card,bordered:!1},I.default.createElement(c.default,{spinning:n||l},I.default.createElement(u.default,{gutter:24},I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFromCreateTimeField()),I.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFromUpdateTimeField())))))),I.default.createElement(o.default,null))},a.state=(0,l.default)({},a.state,{loadApiPath:"connectionConfig/get",submitApiPath:"connectionConfig/updateBasicInfo",connectionConfigId:null,selectConnectionType:N.connectionType.TCP_IP}),a}return(0,y.default)(t,e),(0,v.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,S.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},U.parseUrlParamsForSetState)}}]),t}(w.default),h=b))||h),A=Y;t.default=A}}]);