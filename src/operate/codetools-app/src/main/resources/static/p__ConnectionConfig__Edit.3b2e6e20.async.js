(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"/JhO":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrlParamsForSetState=r,t.checkNeedUpdateAssist=d,t.empty=i;var l=n(a("d6i3")),o=n(a("1l/V"));function r(e){var t=e.urlParams,a=t.id;return{connectionConfigId:a}}function d(e,t,a,n){var l=e.connectionConfigId,o=a.connectionConfigId;return o!==l}function i(){return c.apply(this,arguments)}function c(){return c=(0,o.default)(l.default.mark(function e(){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},"9HkY":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var l=n(a("TeRw")),o=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),i=n(a("ujKo")),c=n(a("MhPg")),u=a("uJMD"),s=n(a("U1dv")),f=a("/JhO"),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=(0,d.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(r))),a.goToUpdateWhenProcessed=!0,a.getApiData=function(e){var t=e.connectionConfig.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,f.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterSubmitSuccess=function(e,t,a,n,o){requestAnimationFrame(function(){l.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a}return(0,c.default)(t,e),(0,r.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,u.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},f.parseUrlParamsForSetState)}}]),t}(s.default),p=m;t.default=p},UkeZ:function(e,t,a){e.exports={hidden:"antd-pro-pages-connection-config-edit-basic-info-index-hidden",help:"antd-pro-pages-connection-config-edit-basic-info-index-help",containorBox:"antd-pro-pages-connection-config-edit-basic-info-index-containorBox",card:"antd-pro-pages-connection-config-edit-basic-info-index-card","ant-upload-select-picture-card":"antd-pro-pages-connection-config-edit-basic-info-index-ant-upload-select-picture-card","ant-upload-text":"antd-pro-pages-connection-config-edit-basic-info-index-ant-upload-text",mainImageBox:"antd-pro-pages-connection-config-edit-basic-info-index-mainImageBox",mainImage:"antd-pro-pages-connection-config-edit-basic-info-index-mainImage",mainImageAction:"antd-pro-pages-connection-config-edit-basic-info-index-mainImageAction"}},mLvl:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("p0pE"));a("Telt");var o,r,d,i=n(a("Tckk")),c=n(a("2Taf")),u=n(a("vZ4D")),s=n(a("l4Ni")),f=n(a("ujKo")),m=n(a("MhPg")),p=n(a("q1tI")),g=a("MuoO"),h=a("uJMD"),b=n(a("7pZ8")),D=a("i0ey"),v=n(a("KNI+")),F=a("/JhO"),P=a("ShOv"),C=(o=(0,g.connect)(function(e){var t=e.connectionConfig,a=e.global,n=e.loading;return{connectionConfig:t,global:a,loading:n.models.connectionConfig}}),o((d=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,s.default)(this,(0,f.default)(t).call(this,e)),a.componentAuthority=b.default.connectionConfig.get,a.tabList=[{key:"basicInfo",show:a.checkAuthority(b.default.connectionConfig.get),tab:"\u57fa\u672c\u4fe1\u606f"}],a.getApiData=function(e){var t=e.connectionConfig.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,F.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterLoadSuccess=function(e,t,n,l){a.setState({pageName:"".concat(P.fieldData.name.label,"\uff1a").concat(null===e?"":e.name||"")})},a.pageHeaderLogo=function(){var e=a.state.metaData;return p.default.createElement(i.default,{size:"large",src:null===e?"":e.imageUrl||"/noImageSmall.png"})},a.pageHeaderExtraContentData=function(){var e=a.state.metaData;return{textLabel:D.constants.statusNote.label,text:null===e?"":e.statusNote,timeLabel:D.constants.createTime.label,time:null===e?null:(0,h.toDatetime)(e.createTime)}},a.pageHeaderContentData=function(){var e=a.state.metaData,t=[];return t.push({label:P.fieldData.connectionConfigId.label,value:null===e?"":e.connectionConfigId,canCopy:!0}),t.push({label:P.fieldData.schema.label,value:null===e?"":e.schema,canCopy:!1}),t.push({label:P.fieldData.connectionType.label,value:a.getDatabaseConnectionTypeName(null===e?"":"".concat(e.connectionType||"")),canCopy:!1}),t.push({label:P.fieldData.databaseType.label,value:a.getDatabaseDatabaseTypeName(null===e?"":"".concat(e.databaseType||""))}),t.push({label:P.fieldData.encoding.label,value:a.getDatabaseEncodingName(null===e?"":"".concat(e.encoding||""))}),t},a.state=(0,l.default)({},a.state,{pageName:"".concat(P.fieldData.name.label,"\uff1a"),loadApiPath:"connectionConfig/get",backPath:"/connectionConfig/pageList/key",connectionConfigId:null}),a}return(0,m.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,h.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},F.parseUrlParamsForSetState)}}]),t}(v.default),r=d))||r),I=C;t.default=I},wbfs:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("p0pE"));a("4eJr");var o=n(a("3LgI"));a("y8nQ");var r=n(a("Vl3Y"));a("BoS7");var d=n(a("Sdc0"));a("IzEo");var i=n(a("bx4M"));a("T2oS");var c=n(a("W9HT"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH"));a("1YHl");var f=n(a("VNzZ"));a("/zsF");var m=n(a("PArb"));a("+L6B");var p=n(a("2/Rp"));a("/xke");var g,h,b,D=n(a("TeRw")),v=n(a("2Taf")),F=n(a("vZ4D")),P=n(a("l4Ni")),C=n(a("ujKo")),I=n(a("MhPg")),y=n(a("q1tI")),E=a("MuoO"),T=a("RBnf"),S=a("uJMD"),x=n(a("7pZ8")),H=a("i0ey"),N=n(a("9HkY")),k=a("/JhO"),w=a("ShOv"),U=n(a("UkeZ")),A=(g=(0,E.connect)(function(e){var t=e.connectionConfig,a=e.global,n=e.loading;return{connectionConfig:t,global:a,loading:n.models.connectionConfig}}),g((b=function(e){function t(e){var a;return(0,v.default)(this,t),a=(0,P.default)(this,(0,C.default)(t).call(this,e)),a.componentAuthority=x.default.connectionConfig.get,a.formRef=y.default.createRef(),a.onConnectionTypeChange=function(e){a.setState({selectConnectionType:e?w.connectionType.SSH:w.connectionType.TCP_IP})},a.getTargetForm=function(){return a.formRef.current},a.afterLoadSuccess=function(e,t,n,l){var o={};o[w.fieldData.connectionConfigId.name]=null===e?"":e.connectionConfigId||"",o[w.fieldData.name.name]=null===e?"":e.name||"",o[w.fieldData.connectionType.name]=null===e?"":e.connectionType||"",o[w.fieldData.databaseType.name]=null===e?"":e.databaseType||"",o[w.fieldData.host.name]=null===e?"":e.host||"",o[w.fieldData.port.name]=null===e?"":e.port||"",o[w.fieldData.userName.name]=null===e?"":e.userName||"",o[w.fieldData.password.name]=null===e?"":e.password||"",o[w.fieldData.schema.name]=null===e?"":e.schema||"",o[w.fieldData.encoding.name]=null===e?"":e.encoding||"",o[w.fieldData.sshHost.name]=null===e?"":e.sshHost||"",o[w.fieldData.sshPort.name]=null===e?"":e.sshPort||"",o[w.fieldData.localPort.name]=null===e?"":e.localPort||"",o[w.fieldData.remotePort.name]=null===e?"":e.remotePort||"",o[w.fieldData.sshUser.name]=null===e?"":e.sshUser||"",o[w.fieldData.sshPassword.name]=null===e?"":e.sshPassword||"",o[w.fieldData.description.name]=null===e?"":e.description||"",o[H.constants.createTime.name]=null===e?"":(0,S.formatDatetime)(e.createTime,"YYYY-MM-DD HH:mm")||"",o[H.constants.updateTime.name]=null===e?"":(0,S.formatDatetime)(e.updateTime,"YYYY-MM-DD HH:mm")||"";var r=a.getTargetForm();r.setFieldsValue(o),a.setState({selectConnectionType:null===e?w.connectionType.TCP_IP:e.connectionType||w.connectionType.TCP_IP})},a.supplementSubmitRequestParams=function(e){var t=e,n=a.state.connectionConfigId;return t.connectionConfigId=n,t},a.afterSubmitSuccess=function(e,t,a,n,l){requestAnimationFrame(function(){D.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a.formContent=function(){var e=a.state,t=e.loadSuccess,n=e.dataLoading,l=e.processing,g=e.selectConnectionType;return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:U.default.containorBox},y.default.createElement(r.default,{ref:a.formRef,layout:"vertical"},y.default.createElement(i.default,{title:"\u57fa\u672c\u4fe1\u606f",className:U.default.card,bordered:!1,extra:y.default.createElement(f.default,{offsetTop:20},y.default.createElement(y.default.Fragment,null,y.default.createElement(p.default,{icon:y.default.createElement(T.ReloadOutlined,null),disabled:n||l||!t,onClick:a.reloadData,loading:l},"\u5237\u65b0"),y.default.createElement(m.default,{type:"vertical"}),y.default.createElement(p.default,{type:"primary",icon:y.default.createElement(T.SaveOutlined,null),disabled:n||l,onClick:a.validate,loading:l},"\u4fdd\u5b58")))},y.default.createElement(c.default,{spinning:n||l},y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:18,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.name.label,w.fieldData.name.name,!0,(0,S.buildFieldHelper)(w.fieldData.name.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormDatabaseDatabaseTypeSelectFormItem())),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:18,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.host.label,w.fieldData.host.name,!0,(0,S.buildFieldHelper)(w.fieldData.host.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(w.fieldData.port.label,w.fieldData.port.name,!0,(0,S.buildFieldHelper)(w.fieldData.port.helper)))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.userName.label,w.fieldData.userName.name,!0,(0,S.buildFieldHelper)(w.fieldData.userName.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(w.fieldData.password.label,w.fieldData.password.name,!0,(0,S.buildFieldHelper)(w.fieldData.password.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.schema.label,w.fieldData.schema.name,!0,(0,S.buildFieldHelper)(w.fieldData.schema.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormDatabaseEncodingSelectFormItem())))),y.default.createElement(i.default,{title:"SSH\u4fe1\u606f",className:U.default.card,bodyStyle:g!==w.connectionType.SSH?{padding:0}:{},bordered:!1,extra:y.default.createElement(y.default.Fragment,null,y.default.createElement(d.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:g===w.connectionType.SSH,onChange:function(e){a.onConnectionTypeChange(e)}}))},y.default.createElement(c.default,{spinning:n||l},g===w.connectionType.SSH?y.default.createElement(y.default.Fragment,null,y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.sshHost.label,w.fieldData.sshHost.name,!0,(0,S.buildFieldHelper)(w.fieldData.sshHost.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(w.fieldData.sshPort.label,w.fieldData.sshPort.name,!0,(0,S.buildFieldHelper)(w.fieldData.sshPort.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(w.fieldData.localPort.label,w.fieldData.localPort.name,!0,(0,S.buildFieldHelper)(w.fieldData.localPort.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputNumberFormItem(w.fieldData.remotePort.label,w.fieldData.remotePort.name,!0,(0,S.buildFieldHelper)(w.fieldData.remotePort.helper)))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.sshUser.label,w.fieldData.sshUser.name,!0,(0,S.buildFieldHelper)(w.fieldData.sshUser.helper))),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(w.fieldData.sshPassword.label,w.fieldData.sshPassword.name,!0,(0,S.buildFieldHelper)(w.fieldData.sshPassword.helper))))):null)),y.default.createElement(i.default,{title:"\u63cf\u8ff0\u4fe1\u606f",className:U.default.card,bordered:!1},y.default.createElement(c.default,{spinning:n||l},y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:24,md:24,sm:24,xs:24},a.renderFormTextAreaFormItem(w.fieldData.description.label,w.fieldData.description.name,!1,(0,S.buildFieldHelper)(w.fieldData.description.helper)))))),y.default.createElement(i.default,{title:"\u5176\u4ed6\u4fe1\u606f",className:U.default.card,bordered:!1},y.default.createElement(c.default,{spinning:n||l},y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFromCreateTimeField()),y.default.createElement(s.default,{lg:6,md:12,sm:24,xs:24},a.renderFromUpdateTimeField())))))),y.default.createElement(o.default,null))},a.state=(0,l.default)({},a.state,{loadApiPath:"connectionConfig/get",submitApiPath:"connectionConfig/updateBasicInfo",connectionConfigId:null,selectConnectionType:w.connectionType.TCP_IP}),a}return(0,I.default)(t,e),(0,F.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,S.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},k.parseUrlParamsForSetState)}}]),t}(N.default),h=b))||h),M=A;t.default=M}}]);