(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"/kN6":function(e,t,a){e.exports={main:"antd-pro-pages-custom-config-index-main",leftMenu:"antd-pro-pages-custom-config-index-leftMenu",right:"antd-pro-pages-custom-config-index-right",title:"antd-pro-pages-custom-config-index-title"}},"7uB1":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrlParamsForSetState=i,t.checkNeedUpdateAssist=u,t.empty=l;var r=n(a("Ico4")),o=n(a("UWy3"));function i(e){var t=e.urlParams,a=t.category;return{category:a}}function u(e,t,a,n){var r=e.category,o=a.category;return o!==r}function l(){return c.apply(this,arguments)}function c(){return c=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},EQ9A:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("8BGC");var r=n(a("5Ace")),o=n(a("mK77"));a("T8SL");var i=n(a("T67/"));a("CkQv");var u=n(a("aA1p"));a("Bqa8");var l,c,s,d=n(a("sNGJ")),f=n(a("43Yg")),m=n(a("/tCh")),g=n(a("scpF")),p=n(a("O/V9")),h=n(a("8aBX")),v=n(a("ZZRV")),y=a("LneV"),C=n(a("LyU0")),k=a("uJMD"),S=n(a("t6Xd")),b=a("7uB1"),w="./index.less",E=(l=(0,y.connect)(function(e){var t=e.customConfig,a=e.global,n=e.loading;return{customConfig:t,global:a,loading:n.models.customConfig}}),l((s=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,g.default)(this,(0,p.default)(t).call(this,e)),a.doWorkWhenDidUpdate=function(e,t,n){var r=a.state.category,o=t.category;if(null!=(r||null)&&null!=(o||null)){var i=a.state,u=i.loadSuccess,l=i.dataLoading;r!==o&&(l||a.reloadData()),u||l||a.reloadData()}},a.doDidMountTask=function(){var e=a.state,t=e.category,n=e.categoryName,r=a.getCustomConfigCategoryList(),o=t,i=n;((0,k.stringIsNullOrWhiteSpace)(t)||"no"===t)&&(0,k.isArray)(r)&&(r||[]).forEach(function(e,t){0===t&&(o=e.flag)}),(0,k.isArray)(r)&&(r||[]).forEach(function(e){e.flag===o&&(i=e.name)}),(0,k.stringIsNullOrWhiteSpace)(o)||"no"===o?C.default.replace("/"):a.setState({category:o,categoryName:i})},a.getApiData=function(e){var t=e.customConfig.data;return t},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.category;return t.category=n,t},a.afterLoadSuccess=function(e,t,n,r){a.setState({total:(t||[]).length})},a.onSwitchChange=function(e,t){var n=e.uuid;a.setBooleanValue(n,t?"1":"0")},a.setBooleanValue=function(e,t){var n=a.props.dispatch;a.setState({processing:!0}),n({type:"customConfig/set",payload:{uuid:e,value:t}}).then(function(){var e=a.getApiData(a.props),t=e.dataSuccess;t&&(requestAnimationFrame(function(){d.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8bbe\u7f6e\u662f\u5426\u6210\u529f\u3002"})}),a.setState({processing:!1}),a.reloadData())})},a.renderTable=function(){var e=a.state,t=e.metaListData,n=e.dataLoading;return v.default.createElement(i.default,{size:"large",className:w.articleList,rowKey:"uuid",dataSource:t,loading:n,pagination:!1,renderItem:function(e){return v.default.createElement(i.default.Item,{key:e.uuid,actions:[v.default.createElement(u.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:"1"===e.value,onChange:function(t){a.onSwitchChange(e,t)}})]},v.default.createElement(i.default.Item.Meta,{title:e.name,description:e.description}))}})},a.state=(0,o.default)({},a.state,{category:"",categoryName:"",pageName:"\u8bbe\u7f6e\u9879\uff1a",paramsKey:"446d0048-94e9-40ee-9b8b-7f394bc94b09",loadApiPath:"customConfig/list",loadDataAfterMount:!1,dataLoading:!1,total:0}),a}return(0,h.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:w.containorBox},this.renderTable(),v.default.createElement(r.default,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return(0,k.getDerivedStateFromPropsForUrlParams)(e,t,{category:""},b.parseUrlParamsForSetState)}}]),t}(S.default),c=s))||c),M=E;t.default=M},LJ4X:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mK77")),o=n(a("43Yg")),i=n(a("/tCh")),u=n(a("scpF")),l=n(a("O/V9")),c=n(a("8aBX"));a("w2Ck");var s,d,f,m=n(a("RFW6")),g=n(a("ZZRV")),p=a("LneV"),h=n(a("LyU0")),v=a("rv1s"),y=a("uJMD"),C=n(a("t6Xd")),k=n(a("/kN6")),S=m.default.Item,b=(s=(0,p.connect)(function(e){var t=e.customConfig,a=e.global,n=e.loading;return{customConfig:t,global:a,loading:n.models.customConfig}}),s((f=function(e){function t(e){var a;(0,o.default)(this,t),a=(0,u.default)(this,(0,l.default)(t).call(this,e)),a.doDidMountTask=function(){window.addEventListener("resize",a.resize),a.resize()},a.beforeUnmount=function(){window.removeEventListener("resize",a.resize)},a.getMenu=function(){var e=a.state.menuMap;return Object.keys(e).map(function(t){return g.default.createElement(S,{key:t},e[t])})},a.getRightTitle=function(){var e=a.state,t=e.selectKey,n=e.menuMap;return n[t]},a.selectKey=function(e){var t=e.key,n=a.state.menuCategory;h.default.push("/customConfig/category/".concat(n[t])),a.setState({selectKey:t})},a.resize=function(){a.main&&requestAnimationFrame(function(){var e="inline";if(null!=a.main){var t=a.main.offsetWidth;null!=t&&(a.main.offsetWidth<641&&t>400&&(e="horizontal"),window.innerWidth<768&&t>400&&(e="horizontal"),a.setState({mode:e}))}})};var n=e.match,i=e.location,c=e.global.customConfigCategoryList,s=n.params.category,d={},f={},m=null,p=null;(0,y.isArray)(c)&&(c||[]).forEach(function(e,t){var a="c".concat(e.flag);d[a]=e.name,f[a]=e.flag,0===t&&(m=a,p=e.flag)});var v=i.pathname.replace("".concat(n.path,"/"),""),C=(0,y.stringIsNullOrWhiteSpace)(s)?p:"no"===s?p:s;return a.state=(0,r.default)({},a.state,{loadDataAfterMount:!1,mode:"inline",menuMap:d,menuCategory:f,firstKey:m,firstCategory:p,currentCategory:C,selectKey:d[v]?v:m}),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state,n=a.mode,r=a.selectKey;return g.default.createElement(v.GridContent,null,g.default.createElement("div",{className:k.default.main,ref:function(t){e.main=t}},g.default.createElement("div",{className:k.default.leftMenu},g.default.createElement(m.default,{mode:n,selectedKeys:[r],onClick:this.selectKey},this.getMenu())),g.default.createElement("div",{className:k.default.right},g.default.createElement("div",{className:k.default.title},this.getRightTitle()),t)))}}]),t}(C.default),d=f))||d),w=b;t.default=w}}]);