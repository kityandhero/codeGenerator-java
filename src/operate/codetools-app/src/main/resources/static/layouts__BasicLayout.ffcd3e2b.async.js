(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"/X/m":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("FJBW");var r=n(a("q/L9"));a("eU3K");var u=n(a("x1KI"));a("NdpQ");var o=n(a("hdUO"));a("l4mJ");var d=n(a("ET+S"));a("WIuS");var c=n(a("EdvG"));a("VAec");var i=n(a("8fja"));a("jlqO");var s=n(a("Hbi4"));a("Bqa8");var f,m,p,g=n(a("sNGJ")),h=n(a("43Yg")),v=n(a("scpF")),b=n(a("O/V9")),E=n(a("8aBX")),y=n(a("ZZRV")),D=a("LneV"),F=a("DWJA"),k=a("lD+o"),x=a("uJMD"),S=a("ydnR"),I=n(a("7pZ8")),A=n(a("soTq")),C=a("EXmu"),N=n(a("5Vnt")),w=(f=(0,D.connect)(function(e){var t=e.account,a=e.global,n=e.loading;return{account:t,global:a,loading:n.models.account}}),f((p=function(e){function t(e){var a;return(0,h.default)(this,t),a=(0,v.default)(this,(0,b.default)(t).call(this,e)),a.componentAuthority=I.default.account.add,a.formRef=y.default.createRef(),a.getTargetForm=function(){return a.formRef.current},a.getApiData=function(e){var t=e.account.data;return t},a.afterSubmitSuccess=function(e){var t=a.props.dispatch;requestAnimationFrame(function(){g.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002"})});var n=e.data.accountId,l={pathname:"/account/account/edit/load/".concat(n,"/1/basicInfo")};t(F.routerRedux.replace(l))},a.formContent=function(){var e=a.state.processing,t={};return t[S.formNameCollection.createTime]=(0,x.formatDatetime)(new Date,"YYYY-MM-DD HH:mm"),y.default.createElement("div",{className:N.default.containorBox},y.default.createElement(r.default,{ref:a.formRef,initialValues:t,layout:"vertical"},y.default.createElement(u.default,{title:"\u57fa\u672c\u4fe1\u606f",className:N.default.card,bordered:!1,extra:y.default.createElement(i.default,{offsetTop:20},y.default.createElement("div",null,y.default.createElement(s.default,{type:"primary",icon:y.default.createElement(k.SaveOutlined,null),disabled:e,onClick:function(e){a.validate(e)},loading:e},"\u4fdd\u5b58")))},y.default.createElement(o.default,{spinning:e},y.default.createElement(d.default,{gutter:24},y.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(C.fieldData.userName.label,C.fieldData.userName.name,!0,(0,x.buildFieldHelper)(C.fieldData.userName.helper))),y.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(C.fieldData.name.label,C.fieldData.name.name,!0,(0,x.buildFieldHelper)(C.fieldData.name.helper))),y.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(C.fieldData.password.label,C.fieldData.password.name,!0,(0,x.buildFieldHelper)(C.fieldData.password.helper))),y.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormPasswordFormItem(C.fieldData.rePassword.label,C.fieldData.rePassword.name,!0,(0,x.buildFieldHelper)(C.fieldData.rePassword.helper)))))),y.default.createElement(u.default,{title:"\u63cf\u8ff0\u4fe1\u606f",className:N.default.card,bordered:!1},y.default.createElement(o.default,{spinning:e},y.default.createElement(d.default,{gutter:24},y.default.createElement(c.default,{lg:24,md:24,sm:24,xs:24},a.renderFormTextAreaFormItem(C.fieldData.description.label,C.fieldData.description.name,!1,(0,x.buildFieldHelper)(C.fieldData.description.helper)))))),y.default.createElement(u.default,{title:"\u5176\u4ed6\u4fe1\u606f",className:N.default.card,bordered:!1},y.default.createElement(o.default,{spinning:e},y.default.createElement(d.default,{gutter:24},y.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFromCreateTimeField()))))))},a.state=(0,l.default)({},a.state,{pageName:"\u589e\u52a0\u8d26\u6237",submitApiPath:"account/addBasicInfo"}),a}return(0,E.default)(t,e),t}(A.default),m=p))||m),P=w;t.default=P},"/wJj":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("mvo6");var r=n(a("6P0j"));a("GNcb");var u=n(a("4oke"));a("w2Ck");var o=n(a("RFW6"));a("qoxt");var d=n(a("BZyp"));a("jlqO");var c=n(a("Hbi4"));a("fCxh");var i=n(a("5Q+V"));a("l4mJ");var s=n(a("ET+S"));a("WIuS");var f=n(a("EdvG"));a("cctN");var m=n(a("4Aw8"));a("Bqa8");var p=n(a("sNGJ")),g=n(a("43Yg")),h=n(a("scpF")),v=n(a("O/V9")),b=n(a("Tfcp")),E=n(a("8aBX"));a("I+9K");var y,D,F,k=n(a("2mNJ")),x=n(a("ZZRV")),S=a("LneV"),I=a("DWJA"),A=a("lD+o"),C=a("uJMD"),N=a("ydnR"),w=n(a("7pZ8")),P=a("/lRM"),R=a("i0ey"),O=n(a("zmXK")),T=n(a("lLw4")),U=n(a("paK7")),M=n(a("XVKs")),V=a("EXmu"),L=k.default.confirm,K=(y=(0,S.connect)(function(e){var t=e.account,a=e.global,n=e.loading;return{account:t,global:a,loading:n.models.account}}),y((F=function(e){function t(e){var a;return(0,g.default)(this,t),a=(0,h.default)(this,(0,v.default)(t).call(this,e)),a.componentAuthority=w.default.account.pageList,a.getApiData=function(e){var t=e.account.data;return t},a.getAccountStateBadgeStatus=function(e){var t="default";switch(e){case"1":t="processing";break;default:t="default";break}return t},a.goToAdd=function(){var e=a.props.dispatch,t={pathname:"/account/account/add"};e(I.routerRedux.push(t))},a.goToEdit=function(e){var t=a.props.dispatch,n=e.accountId,l={pathname:"/account/account/edit/load/".concat(n,"/key/basicInfo")};t(I.routerRedux.push(l))},a.handleMenuClick=function(e,t){var n=e.key;switch(n){case"remove":a.removeItem(t);break;case"on":a.changeState(t,1);break;case"off":a.changeState(t,0);break;case"setRole":a.showUpdateAccountRoleModal(t);break;default:break}},a.changeState=function(e,t){var n=a.props.dispatch,l=e.accountId;a.setState({processing:!0}),n({type:"account/changeState",payload:{accountId:l,state:t}}).then(function(){var n=a.getApiData(a.props),l=n.dataSuccess;l&&(requestAnimationFrame(function(){var a="";switch(t){case 0:a="\u8bbe\u4e3a\u5931\u6548";break;case 1:a="\u8bbe\u4e3a\u751f\u6548";break;default:break}p.default.success({placement:"bottomRight",message:"\u8bbe\u7f6e\u64cd\u4f5c\u7ed3\u679c",description:"".concat(e.name,"\u5df2").concat(a)})}),a.handleItem(e.accountId,function(e){var a=e;return a.state=t,e})),a.setState({processing:!1})})},a.removeItem=function(e){var t=(0,b.default)(a),n=t.state.processing;return L({title:"\u5220\u9664\u8d26\u6237",content:"\u786e\u5b9a\u8981\u5220\u9664\u8d26\u6237\u201c".concat(e.name,"\u201d\u5417"),okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",confirmLoading:{processing:n},onOk:function(){var a=t.props.dispatch;t.setState({processing:!0}),a({type:"account/remove",payload:{accountId:e.accountId}}).then(function(){var e=t.getApiData(t.props),a=e.dataSuccess;a&&(requestAnimationFrame(function(){p.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u5220\u9664\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})}),t.reloadData()),t.setState({processing:!1})})},onCancel:function(){m.default.info("\u53d6\u6d88\u4e86\u5220\u9664\u64cd\u4f5c\uff01")}}),!1},a.handleItem=function(e,t){var n=a.state.customData,l=-1;n.list.forEach(function(t,a){var n=t.accountId;n===e&&(l=a)}),l>=0&&(n.list[l]=t(n.list[l]),a.setState({customData:n}))},a.showUpdateAccountRoleModal=function(e){var t=a.state.changeUpdateAccountRoleModalVisible;t||a.setState({currentRecord:e},function(){a.setState({changeUpdateAccountRoleModalVisible:!0})})},a.afterUpdateAccountRoleModalOk=function(e){a.setState({changeUpdateAccountRoleModalVisible:!1}),a.reloadData()},a.afterUpdateAccountRoleModalCancel=function(){a.setState({changeUpdateAccountRoleModalVisible:!1})},a.renderSimpleFormInitialValues=function(){var e={};return e[P.customFieldCollection.accountStatus.name]=N.unlimitedWithStringFlag.flag,e},a.renderSimpleFormRow=function(){return x.default.createElement(x.default.Fragment,null,x.default.createElement(s.default,{gutter:24},x.default.createElement(f.default,{lg:6,md:12,sm:24},a.renderSearchInputFormItem(V.fieldData.name.label,V.fieldData.name.name)),x.default.createElement(f.default,{md:6,sm:24},a.renderSearchAccountStatusFormItem(!0)),a.renderSimpleFormButton()))},a.renderExtraAction=function(){var e=a.state,t=e.dataLoading,n=e.processing;return a.checkAuthority(w.default.connectionConfig.add)?x.default.createElement(x.default.Fragment,null,x.default.createElement(i.default,{type:"vertical"}),x.default.createElement(c.default,{key:"buttonPlus",disabled:t||n,type:"primary",icon:x.default.createElement(A.PlusOutlined,null),onClick:a.goToAdd},"\u65b0\u589e")):null},a.getColumn=function(){return[{title:V.fieldData.userName.label,dataIndex:V.fieldData.userName.name,align:"left",render:function(e){return x.default.createElement(x.default.Fragment,null,x.default.createElement(T.default,{tooltip:!0,lines:1},e||"--"))}},{title:V.fieldData.name.label,dataIndex:V.fieldData.name.name,width:140,align:"center",render:function(e){return x.default.createElement(x.default.Fragment,null,x.default.createElement(T.default,{tooltip:!0,lines:1},e||"--"))}},{title:V.fieldData.accountId.label,dataIndex:V.fieldData.accountId.name,width:120,align:"center",render:function(e){return x.default.createElement(x.default.Fragment,null,x.default.createElement(U.default,{tooltip:!0,lines:1,removeChildren:!0,extraContent:x.default.createElement(x.default.Fragment,null,x.default.createElement("a",{onClick:function(){(0,C.copyToClipboard)(e)}},(0,C.replaceTargetText)(e,"***",2,6)))},e," [\u70b9\u51fb\u590d\u5236]"))}},{title:R.constants.status.label,dataIndex:R.constants.status.name,width:100,align:"center",render:function(e){return x.default.createElement(x.default.Fragment,null,x.default.createElement(d.default,{status:a.getAccountStateBadgeStatus("".concat(e)),text:a.getAccountStatusName("".concat(e))}))}},{title:R.constants.channel.label,dataIndex:R.constants.channel.name,width:160,align:"center",render:function(e,t){return x.default.createElement(x.default.Fragment,null,x.default.createElement(T.default,{tooltip:!0,lines:1},t.channelNote))}},{title:R.constants.createTime.label,dataIndex:R.constants.createTime.name,width:140,align:"center",sorter:!1,render:function(e){return x.default.createElement(x.default.Fragment,null,x.default.createElement(T.default,{tooltip:!0,lines:1},""===(e||"")?"--":(0,C.formatDatetime)((0,C.toDatetime)(e),"YYYY-MM-DD HH:mm")))}},{title:R.constants.customOperate.label,dataIndex:R.constants.customOperate.name,width:106,fixed:"right",align:"center",render:function(e,t){return x.default.createElement(x.default.Fragment,null,x.default.createElement(u.default.Button,{size:"small",onClick:function(){return a.goToEdit(t)},disabled:!a.checkAuthority(w.default.account.get),overlay:x.default.createElement(o.default,{onClick:function(e){return a.handleMenuClick(e,t)}},0===t.state&&a.checkAuthority(w.default.account.changeState)?x.default.createElement(o.default.Item,{key:"on"},x.default.createElement(A.UpCircleOutlined,null),"\u8bbe\u4e3a\u542f\u7528"):null,0!==t.state&&a.checkAuthority(w.default.account.changeState)?x.default.createElement(o.default.Item,{key:"off"},x.default.createElement(A.DownCircleOutlined,null),"\u8bbe\u4e3a\u7981\u7528"):null,a.checkAuthority(w.default.account.remove)?x.default.createElement(o.default.Item,{key:"remove"},x.default.createElement(A.DeleteOutlined,null),"\u5220\u9664"):null)},x.default.createElement(A.FormOutlined,null),"\u7f16\u8f91"))}}]},a.renderRoleNameCollection=function(e){return x.default.createElement(x.default.Fragment,null,e.map(function(e){return x.default.createElement(r.default,{key:"".concat(e),color:"#87d068"},e)}))},a.renderOther=function(){var e=a.state,t=e.changeUpdateAccountRoleModalVisible,n=e.currentRecord;return x.default.createElement(M.default,{title:"\u8bbe\u7f6e\u4eba\u5458\u201c".concat(null==n?"":n.name,"\u201d\u62e5\u6709\u7684\u89d2\u8272"),sourceDataMark:{accountId:null==n?"":n.accountId},sourceData:null==n?[]:n.roleCollection,visible:t,afterOK:a.afterUpdateAccountRoleModalOk,afterCancel:a.afterUpdateAccountRoleModalCancel})},a.state=(0,l.default)({},a.state,{pageName:"\u8d26\u6237\u5217\u8868",paramsKey:"6c8efa60-997d-43ca-981e-afc0c466c266",loadApiPath:"account/pageList",currentRecord:null,changeUpdateAccountRoleModalVisible:!1}),a}return(0,E.default)(t,e),t}(O.default),D=F))||D),Z=K;t.default=Z},"10v/":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r,u,o=n(a("mK77")),d=n(a("43Yg")),c=n(a("/tCh")),i=n(a("scpF")),s=n(a("O/V9")),f=n(a("8aBX")),m=a("LneV"),p=a("uJMD"),g=n(a("7pZ8")),h=a("i0ey"),v=n(a("KNI+")),b=a("3Pbg"),E=a("EXmu"),y=(l=(0,m.connect)(function(e){var t=e.account,a=e.global,n=e.loading;return{account:t,global:a,loading:n.models.account}}),l((u=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,i.default)(this,(0,s.default)(t).call(this,e)),a.componentAuthority=g.default.account.get,a.tabList=[{key:"basicInfo",show:a.checkAuthority(g.default.account.get),tab:"\u57fa\u672c\u4fe1\u606f"},{key:"resetPassword",show:a.checkAuthority(g.default.account.resetPassword),tab:"\u91cd\u7f6e\u5bc6\u7801"}],a.getApiData=function(e){var t=e.account.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,b.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.accountId;return t.accountId=n,t},a.afterLoadSuccess=function(e,t,n,l){if(null!=(e||null)){var r=e||{userName:""},u=r.userName;a.setState({pageName:"".concat(E.fieldData.userName,"\uff1a").concat(u)})}},a.pageHeaderExtraContentData=function(){var e=a.state.metaData;return{textLabel:h.constants.statusNote.label,text:null===e?"":e.statusNote,timeLabel:h.constants.createTime.label,time:null===e?null:(0,p.toDatetime)(e.createTime)}},a.pageHeaderContentData=function(){var e=a.state.metaData,t=[];return t.push({label:E.fieldData.accountId.label,value:null===e?"":e.accountId,canCopy:!0}),t.push({label:E.fieldData.userName.label,value:null===e?"":e.userName,canCopy:!1}),t.push({label:E.fieldData.name.label,value:null===e?"":e.name,canCopy:!1}),t.push({label:h.constants.createTime.label,value:null===e?"":e.createTime}),t.push({label:h.constants.updateTime.label,value:null===e?"":e.createTime}),t},a.state=(0,o.default)({},a.state,{pageName:"\u8d26\u6237\u540d\uff1a",loadApiPath:"account/get",backPath:"/account/account/pageList/key"}),a}return(0,f.default)(t,e),(0,c.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,p.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},b.parseUrlParamsForSetState)}}]),t}(v.default),r=u))||r),D=y;t.default=D},"3Pbg":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrlParamsForSetState=u,t.checkNeedUpdateAssist=o,t.empty=d;var l=n(a("Ico4")),r=n(a("UWy3"));function u(e){var t=e.urlParams,a=t.id;return{accountId:a}}function o(e,t,a,n){var l=e.accountId,r=a.accountId;return r!==l}function d(){return c.apply(this,arguments)}function c(){return c=(0,r.default)(l.default.mark(function e(){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},"57a1":function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("mvo6");n(a("6P0j"));a("ou9g");var l=n(a("HpaD")),r=a("lD+o"),u=n(a("ZZRV")),o=a("LneV"),d=n(a("kaFD")),c=n(a("ojHk")),i=n(a("2n1B")),s=n(a("h3zL")),f=function(e){var t=e.theme,a=e.layout,n=s.default.right;return"dark"===t&&"topmenu"===a&&(n="".concat(s.default.right,"  ").concat(s.default.dark)),u.default.createElement("div",{className:n},u.default.createElement(c.default,{className:"".concat(s.default.action," ").concat(s.default.search),placeholder:"\u7ad9\u5185\u641c\u7d22",defaultValue:"umi ui",options:[{label:u.default.createElement("a",{href:"https://umijs.org/zh/guide/umi-ui.html"},"umi ui"),value:"umi ui"},{label:u.default.createElement("a",{href:"next.ant.design"},"Ant Design"),value:"Ant Design"},{label:u.default.createElement("a",{href:"https://protable.ant.design/"},"Pro Table"),value:"Pro Table"},{label:u.default.createElement("a",{href:"https://prolayout.ant.design/"},"Pro Layout"),value:"Pro Layout"}]}),u.default.createElement(l.default,{title:"\u4f7f\u7528\u6587\u6863"},u.default.createElement("a",{target:"_blank",href:"https://pro.ant.design/docs/getting-started",rel:"noopener noreferrer",className:s.default.action},u.default.createElement(r.QuestionCircleOutlined,null))),u.default.createElement(d.default,null),!1,u.default.createElement(i.default,{className:s.default.action}))},m=(0,o.connect)(function(e){var t=e.settings;return{theme:t.navTheme,layout:t.layout}})(f);t.default=m},"5Vnt":function(e,t,a){e.exports={hidden:"antd-pro-pages-account-add-index-hidden",help:"antd-pro-pages-account-add-index-help",containorBox:"antd-pro-pages-account-add-index-containorBox",card:"antd-pro-pages-account-add-index-card",customForm:"antd-pro-pages-account-add-index-customForm"}},EXmu:function(e,t){e.exports={fieldData:{accountId:{name:"accountId",label:"\u8d26\u6237\u6807\u8bc6",helper:"\u767b\u5f55\u8d26\u6237\u7684\u6570\u636e\u6807\u8bc6"},name:{name:"name",label:"\u59d3\u540d",helper:"\u767b\u5f55\u8d26\u6237\u7684\u59d3\u540d"},userName:{name:"userName",label:"\u767b\u5f55\u540d",helper:"\u7cfb\u7edf\u7684\u8d26\u6237\u767b\u5f55\u540d"},password:{name:"password",label:"\u767b\u5f55\u5bc6\u7801",helper:"\u767b\u9646\u8d26\u6237\u7684\u5bc6\u7801"},rePassword:{name:"rePassword",label:"\u9a8c\u8bc1\u5bc6\u7801",helper:"\u9a8c\u8bc1\u5bc6\u7801"},description:{name:"description",label:"\u7b80\u4ecb\u63cf\u8ff0",helper:"\u8d26\u6237\u7684\u7b80\u4ecb\u63cf\u8ff0"},roleNameCollection:{name:"roleNameCollection",label:"\u89d2\u8272\u4fe1\u606f",helper:"\u8d26\u6237\u7684\u89d2\u8272\u4fe1\u606f"}}}},G3lK:function(e,t,a){e.exports={headerSearch:"antd-pro-components-header-search-index-headerSearch",input:"antd-pro-components-header-search-index-input",show:"antd-pro-components-header-search-index-show"}},HQyi:function(e,t,a){e.exports={hidden:"antd-pro-pages-account-edit-basic-info-index-hidden",help:"antd-pro-pages-account-edit-basic-info-index-help",containorBox:"antd-pro-pages-account-edit-basic-info-index-containorBox",cardTitle:"antd-pro-pages-account-edit-basic-info-index-cardTitle",card:"antd-pro-pages-account-edit-basic-info-index-card",fieldBox:"antd-pro-pages-account-edit-basic-info-index-fieldBox"}},PQnE:function(e,t,a){e.exports={hidden:"antd-pro-pages-account-edit-reset-password-index-hidden",help:"antd-pro-pages-account-edit-reset-password-index-help",containorBox:"antd-pro-pages-account-edit-reset-password-index-containorBox",cardTitle:"antd-pro-pages-account-edit-reset-password-index-cardTitle",card:"antd-pro-pages-account-edit-reset-password-index-card",customForm:"antd-pro-pages-account-edit-reset-password-index-customForm"}},XVKs:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ujkA");var l,r,u,o=n(a("TNJ5")),d=n(a("rXjv")),c=n(a("mK77")),i=n(a("43Yg")),s=n(a("/tCh")),f=n(a("scpF")),m=n(a("O/V9")),p=n(a("8aBX")),g=n(a("ZZRV")),h=a("LneV"),v=n(a("9twL")),b=(l=(0,h.connect)(function(e){var t=e.role,a=e.userRole,n=e.global,l=e.loading;return{role:t,userRole:a,global:n,loading:l.models.role}}),l((u=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,f.default)(this,(0,m.default)(t).call(this,e)),a.getApiData=function(e){var t=e.role.data;return t},a.getUserRoleApiData=function(e){var t=e.userRole.data;return t},a.doOtherWhenChangeVisible=function(e,t,n){var l=a.state,r=l.title,u=l.sourceData,o=u;a.setState({pageName:r,targetKeys:o},function(){a.loadData()})},a.loadData=function(){var e=a.props.dispatch,t=a.state.loadApiPath,n={};""!==t&&(a.setState({dataLoading:!0}),e({type:t,payload:n}).then(function(){if(a.mounted){var e=a.getApiData(a.props),t=e.dataSuccess;if(t){var n=e.list,l=a.props.sourceData,r=n,u=l||[];(r||[]).forEach(function(e){var t=e;t.key=t.roleId}),a.setState({customData:r,targetKeys:u})}a.setState({dataLoading:!1})}}))},a.supplementSubmitRequestParams=function(e){var t=a.props.sourceDataMark,n=a.state.targetKeys,l=e;return l.roleCollection=(n||[]).join(),l=(0,c.default)({},l,t),l},a.afterSubmitSuccess=function(e){var t=a.props.afterOK;a.setState({visible:!1});var n=e;n.clientMessage="\u64cd\u4f5c\u6210\u529f\uff1a\u5df2\u66f4\u65b0\u6a21\u5757\u6743\u9650\u8bbe\u7f6e ",t(n)},a.handleChange=function(e){a.setState({targetKeys:e})},a.handleSelectChange=function(e,t){a.setState({selectedKeys:[].concat((0,d.default)(e),(0,d.default)(t))})},a.formContent=function(){var e=a.state,t=e.customData,n=e.targetKeys,l=e.selectedKeys;return g.default.createElement(g.default.Fragment,null,g.default.createElement("div",null,g.default.createElement(o.default,{listStyle:{width:212},dataSource:t,titles:["\u672a\u62e5\u6709","\u5df2\u62e5\u6709"],targetKeys:n,selectedKeys:l,onChange:a.handleChange,onSelectChange:a.handleSelectChange,render:function(e){return e.name}})))},a.state=(0,c.default)({},a.state,{pageName:"\u8bbe\u7f6e\u7528\u6237\u62e5\u6709\u7684\u89d2\u8272",loadApiPath:"role/pageSelect",submitApiPath:"userRole/changeRole",customData:[],targetKeys:[],selectedKeys:[]}),a}return(0,p.default)(t,e),(0,s.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.title,n=e.sourceData;return{title:a,sourceData:n}}}]),t}(v.default),r=u))||r),E=b;t.default=E},aZo0:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("eU3K");var r=n(a("x1KI"));a("NdpQ");var u=n(a("hdUO"));a("jlqO");var o=n(a("Hbi4"));a("Bqa8");var d=n(a("sNGJ")),c=n(a("43Yg")),i=n(a("/tCh")),s=n(a("scpF")),f=n(a("O/V9")),m=n(a("8aBX"));a("FJBW");var p,g,h,v=n(a("q/L9")),b=n(a("ZZRV")),E=a("LneV"),y=a("lD+o"),D=a("uJMD"),F=n(a("7pZ8")),k=n(a("U1dv")),x=a("3Pbg"),S=a("EXmu"),I=n(a("PQnE")),A=v.default.Item,C={labelCol:{span:5},wrapperCol:{xs:{span:14}}},N=(p=(0,E.connect)(function(e){var t=e.account,a=e.global,n=e.loading;return{account:t,global:a,loading:n.models.account}}),p((h=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,s.default)(this,(0,f.default)(t).call(this,e)),a.componentAuthority=F.default.account.resetPassword,a.goToUpdateWhenProcessed=!0,a.getApiData=function(e){var t=e.account.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,x.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.accountId;return t.accountId=n,t},a.supplementSubmitRequestParams=function(e){var t=e,n=a.state.accountId;return t.accountId=n,t},a.afterSubmitSuccess=function(e){requestAnimationFrame(function(){d.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a.formContent=function(){var e=a.state,t=e.processing,n=e.dataLoading;return b.default.createElement(b.default.Fragment,null,b.default.createElement(r.default,{title:b.default.createElement(b.default.Fragment,null,b.default.createElement(y.ContactsOutlined,null),b.default.createElement("span",{className:I.default.cardTitle},"\u91cd\u7f6e\u5bc6\u7801")),className:I.default.card,bordered:!1},b.default.createElement(u.default,{spinning:n||t},b.default.createElement(v.default,{layout:"horizontal",className:I.default.customForm},a.renderFormPasswordFormItem(S.fieldData.password.label,S.fieldData.password.name,!0,(0,D.buildFieldHelper)(S.fieldData.password.helper),b.default.createElement(y.FormOutlined,null),{},!0,C),a.renderFormPasswordFormItem(S.fieldData.rePassword.label,S.fieldData.rePassword.name,!0,(0,D.buildFieldHelper)(S.fieldData.rePassword.helper),b.default.createElement(y.FormOutlined,null),{},!0,C),b.default.createElement(A,{wrapperCol:{xs:{span:24,offset:0},sm:{span:C.wrapperCol.span,offset:C.labelCol.span}},label:""},b.default.createElement(o.default,{type:"primary",icon:b.default.createElement(y.SaveOutlined,null),disabled:t||!a.checkAuthority(F.default.account.resetPassword),loading:t,onClick:function(e){a.validate(e)}},"\u4fdd\u5b58"))))))},a.state=(0,l.default)({},a.state,{submitApiPath:"account/resetPassword",dataLoading:!1,loadDataAfterMount:!1}),a}return(0,m.default)(t,e),(0,i.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,D.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},x.parseUrlParamsForSetState)}}]),t}(k.default),g=h))||g),w=N;t.default=w},ePcR:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("mK77"));a("FJBW");var r=n(a("q/L9"));a("eU3K");var u=n(a("x1KI"));a("NdpQ");var o=n(a("hdUO"));a("l4mJ");var d=n(a("ET+S"));a("WIuS");var c=n(a("EdvG"));a("VAec");var i=n(a("8fja"));a("fCxh");var s=n(a("5Q+V"));a("jlqO");var f=n(a("Hbi4"));a("Bqa8");var m,p,g,h=n(a("sNGJ")),v=n(a("43Yg")),b=n(a("/tCh")),E=n(a("scpF")),y=n(a("O/V9")),D=n(a("8aBX")),F=n(a("ZZRV")),k=a("LneV"),x=a("lD+o"),S=a("uJMD"),I=n(a("7pZ8")),A=a("i0ey"),C=n(a("U1dv")),N=a("3Pbg"),w=a("EXmu"),P=n(a("HQyi")),R=(m=(0,k.connect)(function(e){var t=e.account,a=e.global,n=e.loading;return{account:t,global:a,loading:n.models.account}}),m((g=function(e){function t(e){var a;return(0,v.default)(this,t),a=(0,E.default)(this,(0,y.default)(t).call(this,e)),a.componentAuthority=I.default.account.get,a.goToUpdateWhenProcessed=!0,a.formRef=F.default.createRef(),a.getTargetForm=function(){return a.formRef.current},a.getApiData=function(e){var t=e.account.data;return t},a.checkNeedUpdate=function(e,t,n){return(0,N.checkNeedUpdateAssist)(a.state,e,t,n)},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.accountId;return t.accountId=n,t},a.afterLoadSuccess=function(e,t,n,l){var r={};r[w.fieldData.userName.name]=null===e?"":e.userName||"",r[w.fieldData.name.name]=null===e?"":e.name||"",r[w.fieldData.description.name]=null===e?"":e.description||"",r[A.constants.createTime.name]=null===e?"":(0,S.formatDatetime)(e.createTime,"YYYY-MM-DD HH:mm")||"",r[A.constants.updateTime.name]=null===e?"":(0,S.formatDatetime)(e.updateTime,"YYYY-MM-DD HH:mm")||"";var u=a.getTargetForm();u.setFieldsValue(r)},a.supplementSubmitRequestParams=function(e){var t=e,n=a.state.accountId;return t.accountId=n,t},a.afterSubmitSuccess=function(e){requestAnimationFrame(function(){h.default.success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002"})})},a.formContent=function(){var e=a.state,t=e.processing,n=e.dataLoading,l=e.loadSuccess;return F.default.createElement("div",{className:P.default.containorBox},F.default.createElement(r.default,{ref:a.formRef,layout:"vertical"},F.default.createElement(u.default,{title:F.default.createElement(F.default.Fragment,null,F.default.createElement(x.ContactsOutlined,null),F.default.createElement("span",{className:P.default.cardTitle},"\u57fa\u672c\u4fe1\u606f")),className:P.default.card,bordered:!1,extra:F.default.createElement(i.default,{offsetTop:20},F.default.createElement("div",null,F.default.createElement(f.default,{icon:F.default.createElement(x.ReloadOutlined,null),disabled:n||t||!l,onClick:a.reloadData,loading:t},"\u5237\u65b0"),F.default.createElement(s.default,{type:"vertical"}),F.default.createElement(f.default,{type:"primary",icon:F.default.createElement(x.SaveOutlined,null),disabled:n||t||!l,onClick:function(e){a.validate(e)},loading:t},"\u4fdd\u5b58")))},F.default.createElement(o.default,{spinning:n||t},F.default.createElement(d.default,{gutter:24},F.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.userName.label,w.fieldData.userName.name,!0,(0,S.buildFieldHelper)(w.fieldData.userName.helper),F.default.createElement(x.FormOutlined,null),null,!1)),F.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFormInputFormItem(w.fieldData.name.label,w.fieldData.name.name,!0,(0,S.buildFieldHelper)(w.fieldData.name.helper)))))),F.default.createElement(u.default,{title:"\u63cf\u8ff0\u4fe1\u606f",className:P.default.card,bordered:!1},F.default.createElement(o.default,{spinning:n||t},F.default.createElement(d.default,{gutter:24},F.default.createElement(c.default,{lg:24,md:24,sm:24,xs:24},a.renderFormTextAreaFormItem(w.fieldData.description.label,w.fieldData.description.name,!1,(0,S.buildFieldHelper)(w.fieldData.description.helper)))))),F.default.createElement(u.default,{title:"\u5176\u4ed6\u4fe1\u606f",className:P.default.card,bordered:!1},F.default.createElement(o.default,{spinning:n||t},F.default.createElement(d.default,{gutter:24},F.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFromCreateTimeField()),F.default.createElement(c.default,{lg:6,md:12,sm:24,xs:24},a.renderFromUpdateTimeField()))))))},a.state=(0,l.default)({},a.state,{loadApiPath:"account/get",submitApiPath:"account/updateBasicInfo"}),a}return(0,D.default)(t,e),(0,b.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,S.getDerivedStateFromPropsForUrlParams)(e,t,{id:""},N.parseUrlParamsForSetState)}}]),t}(C.default),p=g))||p),O=R;t.default=O},h3zL:function(e,t,a){e.exports={menu:"antd-pro-components-global-header-index-menu",right:"antd-pro-components-global-header-index-right",action:"antd-pro-components-global-header-index-action",search:"antd-pro-components-global-header-index-search",account:"antd-pro-components-global-header-index-account",avatar:"antd-pro-components-global-header-index-avatar",dark:"antd-pro-components-global-header-index-dark",name:"antd-pro-components-global-header-index-name"}},kaFD:function(e,t,a){"use strict";var n=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("NdpQ");var l=n(a("hdUO"));a("ywkC");var r=n(a("oSez"));a("w2Ck");var u=n(a("RFW6")),o=n(a("43Yg")),d=n(a("/tCh")),c=n(a("scpF")),i=n(a("O/V9")),s=n(a("8aBX")),f=a("lD+o"),m=n(a("ZZRV")),p=a("LneV"),g=a("+UYe"),h=n(a("6Wvd")),v=n(a("h3zL")),b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,c.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l))),a.onMenuClick=function(e){var t=e.key;if("logout"!==t)g.router.push("/account/".concat(t));else{var n=a.props.dispatch;n&&n({type:"login/logout"})}},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.global.operator,a=void 0===t?null:t,n=e.menu,o=m.default.createElement(u.default,{className:v.default.menu,selectedKeys:[],onClick:this.onMenuClick},n&&m.default.createElement(u.default.Item,{key:"center"},m.default.createElement(f.UserOutlined,null),"\u4e2a\u4eba\u4e2d\u5fc3"),n&&m.default.createElement(u.default.Item,{key:"settings"},m.default.createElement(f.SettingOutlined,null),"\u4e2a\u4eba\u8bbe\u7f6e"),n&&m.default.createElement(u.default.Divider,null),m.default.createElement(u.default.Item,{key:"logout"},m.default.createElement(f.LogoutOutlined,null),"\u9000\u51fa\u767b\u5f55"));return null!=a?m.default.createElement(h.default,{overlay:o},m.default.createElement("span",{className:"".concat(v.default.action," ").concat(v.default.account)},m.default.createElement(r.default,{size:"small",className:v.default.avatar,src:a.avatar||"/user.png",alt:"avatar"}),m.default.createElement("span",{className:v.default.name},a.name||"\u672a\u77e5\u7528\u6237"))):m.default.createElement(l.default,{size:"small",style:{marginLeft:8,marginRight:8}})}}]),t}(m.default.Component),E=(0,p.connect)(function(e){var t=e.global;return{global:t}})(b);t.default=E},maEh:function(e,t,a){"use strict";var n=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("zAuD")),u=l(a("rXjv")),o=l(a("mK77"));a("uCOU");var d=l(a("uKqf"));a("jlqO");var c=l(a("Hbi4")),i=n(a("ZZRV")),s=a("+UYe"),f=a("LneV"),m=a("Yztb"),p=a("lD+o"),g=n(a("rv1s")),h=a("uJMD"),v=a("+n12"),b=l(a("HZnN")),E=l(a("57a1")),y=l(a("mW0K")),D=y.default.getShareLogo(),F=i.default.createElement(d.default,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:i.default.createElement(c.default,{type:"primary"},i.default.createElement(s.Link,{to:"/user/login"},"Go Login"))}),k=function e(t){return t.map(function(t){var a=(0,o.default)({},t,{children:t.children?e(t.children):[]});return b.default.check(t.authority,a,null)})},x=i.default.createElement(g.DefaultFooter,{copyright:"2019 \u8682\u8681\u91d1\u670d\u4f53\u9a8c\u6280\u672f\u90e8\u51fa\u54c1",links:[{key:"Ant Design Pro",title:"Ant Design Pro",href:"https://pro.ant.design",blankTarget:!0},{key:"github",title:i.default.createElement(p.GithubOutlined,null),href:"https://github.com/ant-design/ant-design-pro",blankTarget:!0},{key:"Ant Design",title:"Ant Design",href:"https://ant.design",blankTarget:!0}]}),S=function(){return(0,v.isAntDesignPro)()?i.default.createElement(i.default.Fragment,null,x,i.default.createElement("div",{style:{padding:"0px 24px 24px",textAlign:"center"}},i.default.createElement("a",{href:"https://www.netlify.com",target:"_blank",rel:"noopener noreferrer"},i.default.createElement("img",{src:"https://www.netlify.com/img/global/badges/netlify-color-bg.svg",width:"82px",alt:"netlify logo"})))):x},I=function(e){var t=e.dispatch,a=e.children,n=e.settings,l=e.location,o=void 0===l?{pathname:"/"}:l;(0,i.useEffect)(function(){t&&(t({type:"global/getMetaData",payload:{force:!1}}),t({type:"global/getOperator",payload:{force:!1}}),t({type:"settings/getSetting"}))},[]);var d=function(e){t&&t({type:"global/changeLayoutCollapsed",payload:e})};(0,h.getQueue)();var c=(0,v.getAuthorityFromRouter)(e.route.routes,o.pathname||"/")||{authority:void 0};return i.default.createElement(i.default.Fragment,null,i.default.createElement(g.default,(0,r.default)({logo:D,formatMessage:m.formatMessage,menuHeaderRender:function(e,t){return i.default.createElement(s.Link,{to:"/"},e,t)},onCollapse:d,menuItemRender:function(e,t){return e.isUrl||e.children||!e.path?t:i.default.createElement(s.Link,{to:e.path},t)},breadcrumbRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{path:"/",breadcrumbName:"\u9996\u9875"}].concat((0,u.default)(e))},itemRender:function(e,t,a,n){var l=0===a.indexOf(e);return l?i.default.createElement(s.Link,{to:n.join("/")},e.breadcrumbName):i.default.createElement("span",null,e.breadcrumbName)},footerRender:S,menuDataRender:k,rightContentRender:function(){return i.default.createElement(E.default,null)}},e,n),i.default.createElement(b.default,{authority:c.authority,noMatch:F},a)))},A=(0,f.connect)(function(e){var t=e.operator,a=e.global,n=e.settings;return{collapsed:a.collapsed,settings:n,operator:t,global:a}})(I);t.default=A},ojHk:function(e,t,a){"use strict";var n=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("HFIR");var r=l(a("nxNi"));a("QbtF");var u=l(a("5Ekc")),o=l(a("3CjV")),d=l(a("cO38")),c=l(a("BG4o")),i=a("lD+o"),s=l(a("RYWf")),f=n(a("ZZRV")),m=l(a("iczh")),p=l(a("G3lK")),g=function(e){var t=e.className,a=e.defaultValue,n=e.onVisibleChange,l=e.placeholder,g=(e.open,e.defaultOpen),h=(0,c.default)(e,["className","defaultValue","onVisibleChange","placeholder","open","defaultOpen"]),v=(0,f.useRef)(null),b=(0,s.default)(a,{value:e.value,onChange:e.onChange}),E=(0,d.default)(b,2),y=E[0],D=E[1],F=(0,s.default)(g||!1,{value:e.open,onChange:n}),k=(0,d.default)(F,2),x=k[0],S=k[1],I=(0,m.default)(p.default.input,(0,o.default)({},p.default.show,x));return f.default.createElement("div",{className:(0,m.default)(t,p.default.headerSearch),onClick:function(){S(!0),x&&v.current&&v.current.focus()},onTransitionEnd:function(e){var t=e.propertyName;"width"!==t||x||n&&n(x)}},f.default.createElement(i.SearchOutlined,{key:"Icon",style:{cursor:"pointer"}}),f.default.createElement(r.default,{key:"AutoComplete",className:I,value:y,style:{height:28,marginTop:-6},options:h.options,onChange:D},f.default.createElement(u.default,{ref:v,defaultValue:a,"aria-label":l,placeholder:l,onKeyDown:function(e){"Enter"===e.key&&h.onSearch&&h.onSearch(y)},onBlur:function(){S(!1)}})))},h=g;t.default=h}}]);