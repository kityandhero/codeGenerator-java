(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"+Z0U":function(e,t,a){e.exports={hidden:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-hidden",help:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-help",containorBox:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-containorBox",containorSearch:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-containorSearch",containorTable:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-containorTable",iconAction:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-iconAction",alertContainor:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-alertContainor",alertInfo:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-alertInfo",alertContent:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-alertContent",alertOption:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-alertOption",tableList:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-tableList",tableListOperator:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-tableListOperator",price:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-price",actionButton:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-actionButton",orange:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-orange",editButton:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-editButton",img:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-img",pointer:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-pointer",topButton:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-topButton",tableListForm:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-tableListForm",submitButtons:"antd-pro-custom-components-framework-custom-list-pager-list-inner-pager-list-index-submitButtons"}},"1EqD":function(e,t){e.exports={fieldData:{name:{name:"name",label:"\u6570\u636e\u8868\u540d",helper:"\u6570\u636e\u5e93\u8868\u7684\u540d\u79f0"},dataTableGeneratorConfig:{name:"dataTableGeneratorConfig",label:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e",helper:"\u6570\u636e\u8868\u7684\u751f\u6210\u914d\u7f6e"},initialized:{name:"initialized",label:"\u662f\u5426\u521d\u59cb\u5316",helper:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e\u662f\u5426\u521d\u59cb\u5316"}}}},H54f:function(e,t,a){e.exports={hidden:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-hidden",help:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-help",containorBox:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-containorBox",containorSearch:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-containorSearch",titleIcon:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-titleIcon",containorTable:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-containorTable",iconAction:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-iconAction",alertContainor:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-alertContainor",alertInfo:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-alertInfo",alertContent:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-alertContent",alertOption:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-alertOption",tableList:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-tableList",tableListOperator:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-tableListOperator",price:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-price",actionButton:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-actionButton",orange:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-orange",editButton:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-editButton",img:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-img",pointer:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-pointer",topButton:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-topButton",tableListForm:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-tableListForm",submitButtons:"antd-pro-custom-components-framework-custom-list-pager-list-pager-drawer-index-submitButtons"}},"KNW+":function(e,t,a){e.exports={hidden:"antd-pro-pages-data-table-generator-config-set-drawer-index-hidden",help:"antd-pro-pages-data-table-generator-config-set-drawer-index-help",containorBox:"antd-pro-pages-data-table-generator-config-set-drawer-index-containorBox",card:"antd-pro-pages-data-table-generator-config-set-drawer-index-card",mainImageBox:"antd-pro-pages-data-table-generator-config-set-drawer-index-mainImageBox",mainImage:"antd-pro-pages-data-table-generator-config-set-drawer-index-mainImage",mainImageAction:"antd-pro-pages-data-table-generator-config-set-drawer-index-mainImageAction",button:"antd-pro-pages-data-table-generator-config-set-drawer-index-button"}},QoWG:function(e,t,a){e.exports={hidden:"antd-pro-custom-components-framework-custom-form-drawer-base-index-hidden",help:"antd-pro-custom-components-framework-custom-form-drawer-base-index-help",contentContainor:"antd-pro-custom-components-framework-custom-form-drawer-base-index-contentContainor",titleText:"antd-pro-custom-components-framework-custom-form-drawer-base-index-titleText",bottomBar:"antd-pro-custom-components-framework-custom-form-drawer-base-index-bottomBar"}},hdpW:function(e,t,a){"use strict";a.r(t);var n=a("tUtL"),r=(a("oJeT"),a("QP/E")),o=(a("2NwG"),a("OScy")),l=(a("zFcB"),a("+kI8")),i=(a("NDU/"),a("TSE5")),c=(a("R2yK"),a("Pui7")),s=a("Xh3J"),m=a("20sq"),u=a("CibE"),d=a("B6Sf"),f=a("K89m"),p=a("elvB"),g=a("ZZRV"),b=a.n(g),h=a("9kvl"),C=a("V40h"),D=a("olky"),v=a("92AI"),w=function(e,t){return g["createElement"](v["a"],Object.assign({},e,{ref:t,icon:D["a"]}))};w.displayName="PlayCircleOutlined";var O=g["forwardRef"](w),y=a("8dlC"),x=function(e,t){return g["createElement"](v["a"],Object.assign({},e,{ref:t,icon:y["a"]}))};x.displayName="SyncOutlined";var E=g["forwardRef"](x),T=a("uJMD"),S=a("7pZ8"),j=a.n(S),I=a("i0ey"),k=(a("dcnU"),a("Q66/")),F=(a("EcE4"),a("agVS")),N=(a("frik"),a("fGNf")),R=(a("BSSk"),a("Ys3+")),G=(a("BioO"),a("yWmS")),L=a("rFnp"),B=a("UdEF"),A=a("9Ep+"),P=a("zmXK"),M=a("+Z0U"),V=a.n(M);function z(e){return function(){var t,a=Object(f["a"])(e);if(q()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var K=function(e){Object(p["a"])(a,e);var t=z(a);function a(e){var r;Object(s["a"])(this,a),r=t.call(this,e);var o=r.state;return r.useParamsKey=!1,r.state=Object(n["a"])({},o),r}return Object(m["a"])(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.listTitle,n=t.tableSize,r=t.refreshing,o=this.renderExtraAction();return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:V.a.containorBox},b.a.createElement(G["a"],{bordered:!1,className:V.a.containorSearch},b.a.createElement("div",{className:V.a.tableListForm},this.renderForm())),b.a.createElement(G["a"],{title:a,headStyle:{borderBottom:"0px"},bodyStyle:{paddingTop:"0",paddingBottom:10},bordered:!1,className:V.a.containorTable,extra:b.a.createElement(b.a.Fragment,null,o,null==o?null:b.a.createElement(R["a"],{type:"vertical"}),this.renderBatchAction(),b.a.createElement(B["a"],{tableSize:n,setTableSize:function(t){e.setTableSize(t)}}),b.a.createElement(F["a"],{title:"\u5237\u65b0\u672c\u9875"},b.a.createElement(N["a"],{shape:"circle",className:V.a.iconAction,loading:r,icon:b.a.createElement(L["a"],null),onClick:function(){e.refreshData()}})),b.a.createElement(A["a"],{columns:this.getColumn(),columnsMap:this.getColumnsMap(),setColumnsMap:function(t){e.setColumnsMap(t)},setSortKeyColumns:function(t){e.setSortKeyColumns(t)}}))},b.a.createElement("div",{className:V.a.tableList},this.renderAboveTable(),this.renderTable()))),this.renderOther(),b.a.createElement(k["a"],null))}}]),a}(P["a"]),W=K,H=a("lLw4"),U=a("paK7"),J=(a("R64t"),a("+hUc")),Y=a("3FfC"),Z=(a("1dPq"),a("JuZE")),Q=a("vReF"),X=a("H54f"),$=a.n(X);function _(e){return function(){var t,a=Object(f["a"])(e);if(ee()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var te,ae,ne,re=function(e){Object(p["a"])(a,e);var t=_(a);function a(e){var r;Object(s["a"])(this,a),r=t.call(this,e),r.doWorkWhenDidUpdate=function(e,t,a){var n=t.visible,o=r.state.visible;!1===n&&!0===o&&r.doOtherWhenChangeVisible(e,t,a)},r.onClose=function(){var e=r.props.afterClose;"function"===typeof e&&e()},r.buildTableOtherConfig=function(){return{styleSet:{height:"calc(100% - 57px)"}}},r.renderTitleIcon=function(){return b.a.createElement(Q["a"],{className:$.a.titleIcon})},r.hideDrawer=function(){r.onClose()},r.useParamsKey=!1;var o=r.state;return o.dataLoading=!1,r.state=Object(n["a"])({},o,{},{visible:!1,loadDataAfterMount:!1}),r}return Object(m["a"])(a,[{key:"render",value:function(){var e=this,t=this.props.width,a=this.state,n=a.visible,r=a.listTitle,o=a.tableSize,l=a.refreshing,i=this.renderExtraAction();return b.a.createElement(Z["a"],{title:b.a.createElement("span",null,this.renderTitleIcon(),this.getPageName()),destroyOnClose:!1,className:$.a.containorBox,width:t,placement:"right",visible:n||!1,maskClosable:!1,onClose:this.onClose},b.a.createElement("div",{style:{height:"calc(100vh - 103px)"}},b.a.createElement("div",{className:$.a.tableList},b.a.createElement("div",{className:$.a.containorBox},b.a.createElement(G["a"],{bordered:!1,className:$.a.containorSearch},b.a.createElement("div",{className:$.a.tableListForm},this.renderForm())),b.a.createElement("div",{style:{height:"1px",backgroundColor:"#f0f2f5"}}),b.a.createElement(G["a"],{title:r,headStyle:{borderBottom:0,paddingLeft:0,paddingRight:0},bodyStyle:{paddingTop:0,paddingBottom:10,paddingLeft:0,paddingRight:0},bordered:!1,className:$.a.containorTable,extra:b.a.createElement(b.a.Fragment,null,i,null==i?null:b.a.createElement(R["a"],{type:"vertical"}),this.renderBatchAction(),b.a.createElement(B["a"],{tableSize:o,setTableSize:function(t){e.setTableSize(t)}}),b.a.createElement(F["a"],{title:"\u5237\u65b0\u672c\u9875"},b.a.createElement(N["a"],{shape:"circle",className:$.a.iconAction,loading:l,icon:b.a.createElement(L["a"],null),onClick:function(){e.refreshData()}})),b.a.createElement(A["a"],{columns:this.getColumn(),columnsMap:this.getColumnsMap(),setColumnsMap:function(t){e.setColumnsMap(t)},setSortKeyColumns:function(t){e.setSortKeyColumns(t)}}))},b.a.createElement("div",{className:$.a.tableList},this.renderAboveTable(),this.renderTable()))),this.renderOther())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.visible,n=e.externalData;return{visible:a||!1,externalData:n||null}}}]),a}(P["a"]),oe=re,le=a("AnhG"),ie=a("9twL"),ce=a("uGEw");function se(e){return function(){var t,a=Object(f["a"])(e);if(me()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ue,de,fe,pe={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}}},ge=(te=Object(h["a"])((function(e){var t=e.dataColumn,a=e.global,n=e.loading;return{dataColumn:t,global:a,loading:n.models.dataColumn}})),te((ne=function(e){Object(p["a"])(a,e);var t=se(a);function a(e){var r;return Object(s["a"])(this,a),r=t.call(this,e),r.doOtherWhenChangeVisible=function(e,t,a){r.clientMessage="",r.reloadData()},r.getApiData=function(e){var t=e.dataColumn.data;return t},r.afterLoadSuccess=function(e,t,a,n){var o={};o[ce["fieldData"].columnName.name]=null===e?"":e.columnName||"",o[ce["fieldData"].columnType.name]=null===e?"":e.columnType||"",o[ce["fieldData"].aliasName.name]=null===e?"":e.aliasName||"",o[ce["fieldData"].javaType.name]=null===e?"":e.javaType||"",o[ce["fieldData"].typeHandler.name]=null===e?"":e.typeHandler||"";var l=r.getTargetForm();l.setFieldsValue(o)},r.supplementLoadRequestParams=function(e){var t=e,a=r.state.externalData,n=a.connectionConfigId,o=a.tableName,l=a.name;return t.connectionConfigId=n,t.tableName=o,t.name=l,t},r.supplementSubmitRequestParams=function(e){var t=e,a=r.state.externalData,n=a.connectionConfigId,o=a.tableName,l=a.name;return t.connectionConfigId=n,t.tableName=o,t.name=l,t},r.afterSubmitSuccess=function(e,t,a,n,o){var l=r.props.afterOK,i=r.state.metaData;r.setState({visible:!1});var c=n,s=i.name;c.clientMessage="\u64cd\u4f5c\u6210\u529f\uff1a\u5217 ".concat(s," \u5b9a\u5236\u6210\u529f"),l(c)},r.formContent=function(){return b.a.createElement(b.a.Fragment,null,r.renderFormInputFormItem(ce["fieldData"].columnName.label,ce["fieldData"].columnName.name,!0,Object(T["f"])(ce["fieldData"].columnName.helper),b.a.createElement(le["a"],null),{readOnly:!0},!1,pe),r.renderFormInputFormItem(ce["fieldData"].columnType.label,ce["fieldData"].columnType.name,!0,Object(T["f"])(ce["fieldData"].columnType.helper),b.a.createElement(le["a"],null),{readOnly:!0},!1,pe),r.renderFormInputFormItem(ce["fieldData"].aliasName.label,ce["fieldData"].aliasName.name,!0,Object(T["f"])(ce["fieldData"].aliasName.helper),b.a.createElement(le["a"],null),null,!0,pe),r.renderFormInputFormItem(ce["fieldData"].javaType.label,ce["fieldData"].javaType.name,!0,Object(T["f"])(ce["fieldData"].javaType.helper),b.a.createElement(le["a"],null),null,!0,pe),r.renderFormInputFormItem(ce["fieldData"].typeHandler.label,ce["fieldData"].typeHandler.name,!1,Object(T["f"])(ce["fieldData"].typeHandler.helper),b.a.createElement(le["a"],null),null,!0,pe))},r.state=Object(n["a"])({},r.state,{},{pageName:"\u66f4\u65b0\u5217\u5b9a\u5236\u4fe1\u606f",loadApiPath:"dataColumn/get",submitApiPath:"dataColumn/set",width:580}),r}return Object(m["a"])(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.visible,n=e.externalData,r=t.visible,o=!1;return!1===r&&!0===a&&(o=!0),{visible:a,needReset:o,externalData:n}}}]),a}(ie["a"]),ae=ne))||ae),be=ge;function he(e){return function(){var t,a=Object(f["a"])(e);if(Ce()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function Ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var De=(ue=Object(h["a"])((function(e){var t=e.dataColumn,a=e.global,n=e.loading;return{dataColumn:t,global:a,loading:n.models.dataColumn}})),ue((fe=function(e){Object(p["a"])(a,e);var t=he(a);function a(e){var c;return Object(s["a"])(this,a),c=t.call(this,e),c.componentAuthority=j.a.dataColumn.list,c.getTargetForm=function(){return c.formRef.current},c.doOtherWhenChangeVisible=function(){c.setState({dataLoading:!0,metaListData:[]});var e=Object(u["a"])(c);setTimeout((function(){e.reloadData()}),700)},c.getApiData=function(e){var t=e.dataColumn.data;return t},c.supplementLoadRequestParams=function(e){var t=e,a=c.props.externalData,n=a.connectionConfigId,r=a.tableData,o=r.name;return t.connectionConfigId=n,t.tableName=o,t},c.getPageName=function(){return"\u6570\u636e\u8868\u5217\u5b9a\u5236"},c.selectRecord=function(e,t){var a=c.props.afterSelectSuccess;Object(T["G"])(a)&&a(t),c.hideDrawer()},c.getDataColumnStatusBadgeStatus=function(e){var t="default";switch(e){case"0":t="default";break;case"1":t="success";break;default:t="default";break}return t},c.showDataColumnModal=function(e){c.setState({dataColumnModalVisible:!0,currentRecord:e})},c.afterDataColumnModalOk=function(){c.refreshData(),c.setState({dataColumnModalVisible:!1})},c.afterDataColumnModalCancel=function(){c.setState({dataColumnModalVisible:!1})},c.renderSimpleFormRow=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:6,md:12,sm:24,xs:24},c.renderSearchInputFormItem(ce["fieldData"].columnName.label,ce["fieldData"].columnName.name)),c.renderSimpleFormButton()))},c.renderOther=function(){var e=c.props.externalData,t=e.connectionConfigId,a=e.tableData,n=a||{name:""},r=n.name,o=c.state,l=o.dataColumnModalVisible,i=o.currentRecord,s=i||{name:""},m=s.name,u=c.checkAuthority(j.a.dataColumn.get);return b.a.createElement(b.a.Fragment,null,u?b.a.createElement(be,{visible:l||!1,externalData:{connectionConfigId:t||0,tableName:r,name:m},afterOK:c.afterDataColumnModalOk,afterCancel:c.afterDataColumnModalCancel}):null)},c.getColumn=function(){return[{title:ce["fieldData"].columnName.label,dataIndex:ce["fieldData"].columnName.name,align:"left",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:{placement:"topLeft"},lines:1},e||"--"))}},{title:ce["fieldData"].columnType.label,dataIndex:ce["fieldData"].columnType.name,width:120,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e||"--"))}},{title:ce["fieldData"].aliasName.label,dataIndex:ce["fieldData"].aliasName.name,width:160,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e||"--"))}},{title:ce["fieldData"].javaType.label,dataIndex:ce["fieldData"].javaType.name,width:120,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e||"--"))}},{title:ce["fieldData"].typeHandler.label,dataIndex:ce["fieldData"].typeHandler.name,width:220,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e||"--"))}},{title:I["a"].status.label,dataIndex:I["a"].status.name,width:100,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(J["a"],{status:c.getDataColumnStatusBadgeStatus("".concat(e)),text:c.getDataColumnStatusName("".concat(e))}))}},{title:ce["fieldData"].tableName.label,dataIndex:ce["fieldData"].tableName.name,width:120,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e||"--"))}},{title:ce["fieldData"].connectionConfigId.label,dataIndex:ce["fieldData"].connectionConfigId.name,width:120,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,"0"==="".concat(e)?"--":b.a.createElement(U["a"],{tooltip:!0,lines:1,removeChildren:!0,extraContent:b.a.createElement(b.a.Fragment,null,b.a.createElement("a",{onClick:function(){Object(T["h"])(e)}},Object(T["O"])(e,"***",2,6)))},e," [\u70b9\u51fb\u590d\u5236]"))}},{title:I["a"].channel.label,dataIndex:I["a"].channel.name,width:160,align:"center",render:function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},t.channelNote))}},{title:I["a"].customOperate.label,dataIndex:I["a"].customOperate.name,width:126,fixed:"right",align:"center",render:function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement(r["a"].Button,{size:"small",onClick:function(){return c.showDataColumnModal(t)},disabled:!c.checkAuthority(j.a.dataTable.get),overlay:b.a.createElement(o["a"],{onClick:function(e){return c.handleMenuClick(e,t)}})},b.a.createElement(C["a"],null),"\u8c03\u6574"))}}]},c.state=Object(n["a"])({},c.state,{},{tableScroll:{x:1440},loadApiPath:"dataColumn/list",dataColumnModalVisible:!1}),c}return Object(m["a"])(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){return Object(Y["a"])(Object(f["a"])(a),"getDerivedStateFromProps",this).call(this,e,t)}}]),a}(oe),de=fe))||de),ve=De,we=a("/JhO"),Oe=a("1EqD"),ye=a("ppPn"),xe=(a("6V/+"),a("cumN")),Ee=(a("W921"),a("asCL")),Te=(a("KJ1D"),a("mKGO")),Se=(a("IOlT"),a("w1wR")),je=a("TxN+"),Ie=a("AOOn"),ke=a("LM4s"),Fe=function(e,t){return g["createElement"](v["a"],Object.assign({},e,{ref:t,icon:ke["a"]}))};Fe.displayName="CloseCircleOutlined";var Ne=g["forwardRef"](Fe),Re=a("t6Xd"),Ge=a("QoWG"),Le=a.n(Ge);function Be(e){return function(){var t,a=Object(f["a"])(e);if(Ae()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function Ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Pe=function(e){Object(p["a"])(a,e);var t=Be(a);function a(e){var r;Object(s["a"])(this,a),r=t.call(this,e),r.formRef=b.a.createRef(),r.doWorkWhenDidUpdate=function(e,t,a){var n=t.visible,o=r.state.visible;if(o&&!n){var l=r.getTargetForm();null!=l&&l.resetFields(),r.doOtherWhenChangeVisible(e,t,a)}},r.doOtherWhenChangeVisible=function(e,t,a){},r.supplementLoadRequestParams=function(e){return e},r.supplementSubmitRequestParams=function(e){return e},r.checkSubmitRequestParams=function(e){return!0},r.afterCheckSubmitRequestParams=function(e){return e},r.getTargetForm=function(){return r.formRef.current},r.afterLoadSuccess=function(e,t,a,n){r.fillForm(e)},r.fillForm=function(e){var t=r.getTargetForm(),a=r.buildInitialValues(e);t.setFieldsValue(a)},r.handleOk=function(e){e.preventDefault();var t=r.props.dispatch,a=r.state.submitApiPath;if(""!==(a||"")){var n=r.getTargetForm();if(null!=n){var o=n.validateFields;o().then((function(e){var n=Object(T["K"])(e);n=r.supplementSubmitRequestParams(n);var o=r.checkSubmitRequestParams(n);n=r.afterCheckSubmitRequestParams(n),o&&(r.setState({processing:!0}),t({type:a,payload:n}).then((function(){if(r.mounted){var e=r.getApiData(r.props),t=e.dataSuccess;if(t){var a=e.list,o=e.data,l=e.extra;r.afterSubmitSuccess(o||null,a||[],l||null,e,n)}r.setState({processing:!1},(function(){r.goToUpdateWhenProcessed&&r.reloadByUrl()}))}})))})).catch((function(e){var t=e.errorFields,a=[];Object.values(t).forEach((function(e){a.push(e.errors[0])}));var n=5,r=!1;a.length>n&&(a.length=n,r=!0);var o=a.join(", ");r&&(o+=" ..."),Se["a"].warn(o)}))}}else Se["a"].error("\u7f3a\u5c11 submitApiPath \u914d\u7f6e\uff01")},r.afterSubmitSuccess=function(e,t,a,n,o){r.setState({visible:!1}),r.doOtherAfterSubmitSuccess(e,t,a,n,o)},r.doOtherAfterSubmitSuccess=function(e,t,a,n,r){},r.onClose=function(e){e.preventDefault();var t=r.props.afterClose;r.setState({visible:!1}),Object(T["G"])(t)&&t()},r.renderTitleIcon=function(){return b.a.createElement(le["a"],null)},r.renderTitle=function(){return null},r.getFormLayout=function(){return"vertical"},r.getFormClassName=function(){return null},r.renderForm=function(){return b.a.createElement(Te["a"],{ref:r.formRef,className:r.getFormClassName(),layout:r.getFormLayout()},r.formContent())},r.formContent=function(){return null},r.renderButton=function(){var e=r.state,t=e.dataLoading,a=e.processing;return b.a.createElement(b.a.Fragment,null,b.a.createElement(N["a"],{type:"primary",disabled:t||a,onClick:function(e){r.handleOk(e)}},a?b.a.createElement(je["a"],null):b.a.createElement(Ie["a"],null),"\u4fdd\u5b58"),b.a.createElement(R["a"],{type:"vertical"}),b.a.createElement(N["a"],{type:"default",disabled:t||a,onClick:function(){r.onClose()}},b.a.createElement(Ne,null),"\u5173\u95ed"))};var o=Object(T["n"])();return r.state=Object(n["a"])({},o,{},{title:"",width:820,visible:!1,dataLoading:!1,loadDataAfterMount:!1,submitApiPath:""}),r}return Object(m["a"])(a,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.width,n=this.renderTitleIcon();return b.a.createElement(Z["a"],{title:b.a.createElement("span",null,n,n?b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{className:Le.a.titleText})," ",this.renderTitle()):this.renderTitle()),destroyOnClose:!1,width:a,placement:"right",visible:t||!1,maskClosable:!1,onClose:this.onClose,bodyStyle:{padding:0}},b.a.createElement("div",{className:Le.a.contentContainor},this.renderForm()),b.a.createElement(Ee["a"],{offsetBottom:0},b.a.createElement("div",{className:Le.a.bottomBar},b.a.createElement(l["a"],null,b.a.createElement(i["a"],{span:24,style:{textAlign:"right"}},this.renderButton())))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.visible,n=e.externalData;return{visible:a,externalData:n}}}]),a}(Re["a"]),Me=Pe;function Ve(e){return function(){var t,a=Object(f["a"])(e);if(ze()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var qe,Ke,We,He=function(e){Object(p["a"])(a,e);var t=Ve(a);function a(){var e;Object(s["a"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.doOtherWhenChangeVisible=function(t,a,n){e.setState({dataLoading:!0}),setTimeout((function(){e.reloadData()}),700)},e}return a}(Me),Ue=He,Je=a("KNW+"),Ye=a.n(Je);function Ze(e){return function(){var t,a=Object(f["a"])(e);if(Qe()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function Qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Xe,$e,_e,et=(qe=Object(h["a"])((function(e){var t=e.dataTableGeneratorConfig,a=e.global,n=e.loading;return{dataTableGeneratorConfig:t,global:a,loading:n.models.dataTableGeneratorConfig}})),qe((We=function(e){Object(p["a"])(a,e);var t=Ze(a);function a(e){var r;return Object(s["a"])(this,a),r=t.call(this,e),r.componentAuthority=j.a.dataTable.updateBasicInfo,r.getSimpleTicketDetailIdFromExternalData=function(){var e=r.state.externalData,t="";return null!=(e||null)&&(t=e.dataTableGeneratorConfigId||""),t},r.supplementLoadRequestParams=function(e){var t=e;return t.dataTableGeneratorConfigId=r.getSimpleTicketDetailIdFromExternalData(),t},r.getApiData=function(e){var t=e.dataTableGeneratorConfig.data;return t},r.supplementLoadRequestParams=function(e){var t=e,a=r.state.externalData.dataTableGeneratorConfigId;return t.dataTableGeneratorConfigId=a||"",t},r.buildInitialValues=function(e){var t={};return null!=e&&(t[ye["fieldData"].dataTableGeneratorConfigId.name]=e.dataTableGeneratorConfigId||"",t[ye["fieldData"].tableName.name]=e.tableName||"",t[ye["fieldData"].domainObjectName.name]="".concat(e.domainObjectName||""),t[ye["fieldData"].mapperName.name]="".concat(e.mapperName||""),t[ye["fieldData"].comment.name]=e.comment||"",t[I["a"].createTime.name]=Object(T["q"])(e.createTime,"YYYY-MM-DD HH:mm")||"",t[I["a"].updateTime.name]=Object(T["q"])(e.updateTime,"YYYY-MM-DD HH:mm")||""),t},r.supplementSubmitRequestParams=function(e){var t=e,a=r.state.externalData.dataTableGeneratorConfigId;return t.dataTableGeneratorConfigId=a||"",t},r.doOtherAfterSubmitSuccess=function(e,t,a,n,o){var l=r.props.afterOK;requestAnimationFrame((function(){c["a"].success({placement:"bottomLeft",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u5957\u9910\u5df2\u7ecf\u4fdd\u5b58\u6210\u529f\u3002"})})),Object(T["G"])(l)&&l()},r.onClose=function(){var e=r.props.afterClose;Object(T["G"])(e)&&e()},r.renderTitle=function(){return"\u7f16\u8f91\u914d\u7f6e"},r.formContent=function(){var e=r.state,t=e.dataLoading,a=e.processing;return b.a.createElement("div",{className:Ye.a.containorBox},b.a.createElement(xe["a"],{spinning:t||a},b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFormInputFormItem(ye["fieldData"].dataTableGeneratorConfigId.label,ye["fieldData"].dataTableGeneratorConfigId.name,!0,Object(T["f"])(ye["fieldData"].dataTableGeneratorConfigId.helper),b.a.createElement(le["a"],null),{},!1)),b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFormInputFormItem(ye["fieldData"].tableName.label,ye["fieldData"].tableName.name,!0,Object(T["f"])(ye["fieldData"].tableName.helper),b.a.createElement(le["a"],null),{},!1))),b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFormInputFormItem(ye["fieldData"].domainObjectName.label,ye["fieldData"].domainObjectName.name,!0,Object(T["f"])(ye["fieldData"].dataTableGeneratorConfigId.helper))),b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFormInputFormItem(ye["fieldData"].mapperName.label,ye["fieldData"].mapperName.name,!0,Object(T["f"])(ye["fieldData"].mapperName.helper)))),b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:24,md:24,sm:24,xs:24},r.renderFormTextAreaFormItem(ye["fieldData"].comment.label,ye["fieldData"].comment.name,!1,Object(T["f"])(ye["fieldData"].comment.helper)))),b.a.createElement(R["a"],{orientation:"left"},"\u5176\u4ed6\u4fe1\u606f"),b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFromCreateTimeField()),b.a.createElement(i["a"],{lg:12,md:12,sm:24,xs:24},r.renderFromUpdateTimeField()))))},r.state=Object(n["a"])({},r.state,{},{dataLoading:!1,loadDataAfterMount:!1,pageName:"\u8c03\u6574\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e",loadApiPath:"dataTableGeneratorConfig/get",submitApiPath:"dataTableGeneratorConfig/set"}),r}return Object(m["a"])(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){return Object(Y["a"])(Object(f["a"])(a),"getDerivedStateFromProps",this).call(this,e,t)}}]),a}(Ue),Ke=We))||Ke),tt=et;function at(e){return function(){var t,a=Object(f["a"])(e);if(nt()){var n=Object(f["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(d["a"])(this,t)}}function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var rt=(Xe=Object(h["a"])((function(e){var t=e.dataTable,a=e.connectionConfig,n=e.dataTableGeneratorConfig,r=e.global,o=e.loading;return{dataTable:t,connectionConfig:a,dataTableGeneratorConfig:n,global:r,loading:o.models.dataTable}})),Xe((_e=function(e){Object(p["a"])(a,e);var t=at(a);function a(e){var m;return Object(s["a"])(this,a),m=t.call(this,e),m.componentAuthority=j.a.dataTable.listConnectionConfig,m.getApiData=function(e){var t=e.dataTable.data;return t},m.checkNeedUpdate=function(e,t,a){return Object(we["a"])(m.state,e,t,a)},m.supplementLoadRequestParams=function(e){var t=e,a=m.state.connectionConfigId;return t.connectionConfigId=a,t},m.showSetDrawer=function(e){m.setState({setDrawerVisible:!0,currentRecord:e})},m.afterSetDrawerOk=function(){m.setState({setDrawerVisible:!1},(function(){var e=Object(u["a"])(m);setTimeout((function(){e.refreshData()}),300)}))},m.afterSetDrawerCancel=function(){m.setState({setDrawerVisible:!1})},m.afterSetDrawerClose=function(){m.setState({setDrawerVisible:!1})},m.showDataColumnListDrawer=function(e){m.setState({dataColumnListDrawerVisible:!0,currentRecord:e})},m.afterDataColumnListDrawerClose=function(){m.setState({dataColumnListDrawerVisible:!1})},m.handleMenuClick=function(e,t){var a=e.key;switch(a){case"showDataColumnListDrawer":m.showDataColumnListDrawer(t);break;case"generate":m.generate(t);break;default:break}},m.initialize=function(e){var t=m.props.dispatch,a=m.state.connectionConfigId,n=e.name;m.setState({processing:!0}),t({type:"dataTableGeneratorConfig/initialize",payload:{connectionConfigId:a,tableName:n}}).then((function(){var e=m.props.dataTableGeneratorConfig.data,t=e.dataSuccess;t&&(requestAnimationFrame((function(){c["a"].success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u751f\u6210\u914d\u7f6e\u521d\u59cb\u5316\u6210\u529f"})})),m.reloadData()),m.setState({processing:!1})}))},m.generate=function(e){var t=m.props.dispatch,a=m.state.connectionConfigId,n=e.dataTableGeneratorConfig.dataTableGeneratorConfigId;m.setState({processing:!0}),t({type:"dataTableGeneratorConfig/generate",payload:{connectionConfigId:a,dataTableGeneratorConfigId:n}}).then((function(){var e=m.props.dataTableGeneratorConfig.data,t=e.dataSuccess;t&&(requestAnimationFrame((function(){c["a"].success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6267\u884c\u751f\u6210\u6210\u529f"})})),m.reloadData()),m.setState({processing:!1})}))},m.renderSimpleFormRow=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(l["a"],{gutter:24},b.a.createElement(i["a"],{lg:6,md:12,sm:24,xs:24},m.renderSearchInputFormItem(Oe["fieldData"].name.label,Oe["fieldData"].name.name)),m.renderSimpleFormButton()))},m.renderOther=function(){var e=m.state,t=e.connectionConfigId,a=e.dataColumnListDrawerVisible,n=e.setDrawerVisible,r=e.currentRecord,o=m.checkAuthority(j.a.dataColumn.list),l=m.checkAuthority(j.a.dataTableGeneratorConfig.set);return b.a.createElement(b.a.Fragment,null,o?b.a.createElement(ve,{visible:a||!1,externalData:{connectionConfigId:t,tableData:r},width:1200,afterClose:m.afterDataColumnListDrawerClose}):null,l?b.a.createElement(tt,{visible:n,externalData:{dataTableGeneratorConfigId:((r||{dataTableGeneratorConfig:{dataTableGeneratorConfigId:""}}).dataTableGeneratorConfig||{dataTableGeneratorConfigId:""}).dataTableGeneratorConfigId||""},afterOK:function(){m.afterSetDrawerOk()},afterCancel:function(){m.afterSetDrawerCancel()},afterClose:function(){m.afterSetDrawerClose()}}):null)},m.getColumn=function(){return[{title:Oe["fieldData"].name.label,dataIndex:Oe["fieldData"].name.name,align:"left",width:220,render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:{placement:"topLeft"},lines:1},e))}},{title:Oe["fieldData"].initialized.label,dataIndex:Oe["fieldData"].initialized.name,align:"center",width:120,render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},1===e?"\u662f":"\u5426"))}},{title:ye["fieldData"].domainObjectName.label,dataIndex:Oe["fieldData"].dataTableGeneratorConfig.name,align:"center",width:160,render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e.domainObjectName||"--"))}},{title:ye["fieldData"].mapperName.label,dataIndex:Oe["fieldData"].dataTableGeneratorConfig.name,align:"center",width:160,render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e.mapperName||"--"))}},{title:ye["fieldData"].comment.label,dataIndex:Oe["fieldData"].dataTableGeneratorConfig.name,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(H["a"],{tooltip:!0,lines:1},e.comment||"--"))}},{title:ye["fieldData"].dataTableGeneratorConfigId.label,dataIndex:Oe["fieldData"].dataTableGeneratorConfig.name,width:120,align:"center",render:function(e){return b.a.createElement(b.a.Fragment,null,""===(e.dataTableGeneratorConfigId||"")?"--":b.a.createElement(U["a"],{tooltip:!0,lines:1,removeChildren:!0,extraContent:b.a.createElement(b.a.Fragment,null,b.a.createElement("a",{onClick:function(){Object(T["h"])(e.dataTableGeneratorConfigId)}},Object(T["O"])(e.dataTableGeneratorConfigId,"***",2,6)))},e.dataTableGeneratorConfigId," [\u70b9\u51fb\u590d\u5236]"))}},{title:I["a"].customOperate.label,dataIndex:I["a"].customOperate.name,width:140,fixed:"right",align:"center",render:function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement(r["a"].Button,{size:"small",onClick:function(){1===t.initialized&&m.showSetDrawer(t),0===t.initialized&&m.initialize(t)},disabled:!m.checkAuthority(j.a.dataTable.get),overlay:b.a.createElement(o["a"],{onClick:function(e){return m.handleMenuClick(e,t)}},m.checkAuthority(j.a.dataTableGeneratorConfig.initialize)?b.a.createElement(o["a"].Item,{disabled:0===t.initialized,key:"showDataColumnListDrawer"},b.a.createElement(C["a"],null),"\u5b9a\u5236\u5217"):null,m.checkAuthority(j.a.dataTableGeneratorConfig.generate)?b.a.createElement(o["a"].Item,{disabled:0===t.initialized,key:"generate"},b.a.createElement(O,null),"\u6267\u884c\u751f\u6210"):null)},1===t.initialized?b.a.createElement(C["a"],null):b.a.createElement(E,null),1===t.initialized?"\u8c03\u6574\u914d\u7f6e":"\u521d\u59cb\u5316"))}}]},m.state=Object(n["a"])({},m.state,{},{addModalVisible:!1,updateModalVisible:!1,loadApiPath:"dataTable/pageList",dataColumnListDrawerVisible:!1,setDrawerVisible:!1,currentRecord:null}),m}return Object(m["a"])(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){return Object(T["r"])(e,t,{id:""},we["b"])}}]),a}(W),$e=_e))||$e);t["default"]=rt},ppPn:function(e,t){e.exports={fieldData:{dataTableGeneratorConfigId:{name:"databaseGeneratorConfigId",label:"\u6570\u636e\u6807\u8bc6",helper:"\u6570\u636e\u6807\u8bc6\uff0c\u4e0d\u53ef\u66f4\u6539"},tableName:{name:"tableName",label:"\u6570\u636e\u8868\u540d",helper:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e\u7684\u6570\u636e\u8868\u540d"},domainObjectName:{name:"domainObjectName",label:"domainObjectName",helper:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e\u7684domainObjectName"},mapperName:{name:"mapperName",label:"mapperName",helper:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e\u7684mapperName"},comment:{name:"comment",label:"comment",helper:"\u6570\u636e\u8868\u751f\u6210\u914d\u7f6e\u7684comment"}}}},uGEw:function(e,t){e.exports={fieldData:{connectionConfigId:{name:"connectionConfigId",label:"\u8fde\u63a5\u6807\u8bc6",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684\u8fde\u63a5\u6807\u8bc6"},tableName:{name:"tableName",label:"\u8868\u540d",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684\u8868\u540d"},columnName:{name:"columnName",label:"\u5217\u540d",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684\u540d\u79f0"},columnType:{name:"columnType",label:"JDBC\u7c7b\u578b",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684JDBC\u7c7b\u578b"},aliasName:{name:"aliasName",label:"\u5217\u522b\u540d",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684\u522b\u540d"},javaType:{name:"javaType",label:"Java\u7c7b\u578b",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684Java\u7c7b\u578b"},typeHandler:{name:"typeHandler",label:"Type Handler",helper:"\u6570\u636e\u5e93\u8868\u5217\u7684Type Handler"}}}}}]);