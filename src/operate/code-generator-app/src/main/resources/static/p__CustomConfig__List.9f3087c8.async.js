(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{EQ9A:function(e,t,a){"use strict";a.r(t);a("4eJr");var n,o,r,c=a("3LgI"),i=a("XEnU"),u=(a("Mwp2"),a("VXEj")),s=(a("BoS7"),a("Sdc0")),l=(a("/xke"),a("TeRw")),d=a("XKWP"),g=a("N7Kx"),f=a("bvJU"),m=a("XPR9"),p=a("kFHX"),b=a("q1tI"),h=a.n(b),v=a("9kvl"),y=a("uJMD"),C=a("t6Xd");a("c1Ei"),a("5Tp6");function j(e){var t=e.urlParams,a=t.category;return{category:a}}var k="./index.less",S=(n=Object(v["a"])((function(e){var t=e.customConfig,a=e.global,n=e.loading;return{customConfig:t,global:a,loading:n.models.customConfig}})),n((r=function(e){function t(e){var a;return Object(d["a"])(this,t),a=Object(f["a"])(this,Object(m["a"])(t).call(this,e)),a.doWorkWhenDidUpdate=function(e,t,n){var o=a.state.category,r=t.category;if(null!=(o||null)&&null!=(r||null)){var c=a.state,i=c.loadSuccess,u=c.dataLoading;o!==r&&(u||a.reloadData()),i||u||a.reloadData()}},a.doDidMountTask=function(){var e=a.state,t=e.category,n=e.categoryName,o=a.getCustomConfigCategoryList(),r=t,c=n;(Object(y["W"])(t)||"no"===t)&&Object(y["F"])(o)&&(o||[]).forEach((function(e,t){0===t&&(r=e.flag)})),Object(y["F"])(o)&&(o||[]).forEach((function(e){e.flag===r&&(c=e.name)})),Object(y["W"])(r)||"no"===r?v["d"].replace("/"):a.setState({category:r,categoryName:c})},a.getApiData=function(e){var t=e.customConfig.data;return t},a.supplementLoadRequestParams=function(e){var t=e,n=a.state.category;return t.category=n,t},a.afterLoadSuccess=function(e,t,n,o){a.setState({total:(t||[]).length})},a.onSwitchChange=function(e,t){var n=e.uuid;a.setBooleanValue(n,t?"1":"0")},a.setBooleanValue=function(e,t){var n=a.props.dispatch;a.setState({processing:!0}),n({type:"customConfig/set",payload:{uuid:e,value:t}}).then((function(){var e=a.getApiData(a.props),t=e.dataSuccess;t&&(requestAnimationFrame((function(){l["a"].success({placement:"bottomRight",message:"\u64cd\u4f5c\u7ed3\u679c",description:"\u6570\u636e\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8bbe\u7f6e\u662f\u5426\u6210\u529f\u3002"})})),a.setState({processing:!1}),a.reloadData())}))},a.renderTable=function(){var e=a.state,t=e.metaListData,n=e.dataLoading;return h.a.createElement(u["a"],{size:"large",className:k.articleList,rowKey:"uuid",dataSource:t,loading:n,pagination:!1,renderItem:function(e){return h.a.createElement(u["a"].Item,{key:e.uuid,actions:[h.a.createElement(s["a"],{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:"1"===e.value,onChange:function(t){a.onSwitchChange(e,t)}})]},h.a.createElement(u["a"].Item.Meta,{title:e.name,description:e.description}))}})},a.state=Object(i["a"])({},a.state,{},{category:"",categoryName:"",pageName:"\u8bbe\u7f6e\u9879\uff1a",paramsKey:"446d0048-94e9-40ee-9b8b-7f394bc94b09",loadApiPath:"customConfig/list",loadDataAfterMount:!1,dataLoading:!1,total:0}),a}return Object(p["a"])(t,e),Object(g["a"])(t,[{key:"render",value:function(){return h.a.createElement("div",{className:k.containorBox},this.renderTable(),h.a.createElement(c["a"],null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(y["r"])(e,t,{category:""},j)}}]),t}(C["a"]),o=r))||o);t["default"]=S}}]);